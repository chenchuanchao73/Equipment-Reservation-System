2025-05-08 13:35:03 - Will watch for changes in these directories: ['D:\\equipment-reservation-system']
2025-05-08 13:35:03 - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-05-08 13:35:03 - Started reloader process [27604] using StatReload
2025-05-08 13:35:04 - 国际化设置成功
2025-05-08 13:35:04 - 国际化设置成功
2025-05-08 13:35:04 - Started server process [28764]
2025-05-08 13:35:04 - Waiting for application startup.
2025-05-08 13:35:04 - 应用启动 / Application started
2025-05-08 13:35:04 - 应用启动 / Application started
2025-05-08 13:35:04 - 数据库初始化成功
2025-05-08 13:35:04 - 数据库初始化成功
2025-05-08 13:35:04 - 执行预约状态更新任务
2025-05-08 13:35:04 - 执行预约状态更新任务
2025-05-08 13:35:04 - 当前时间: 2025-05-08 13:35:04.789353
2025-05-08 13:35:04 - 当前时间: 2025-05-08 13:35:04.789353
2025-05-08 13:35:04 - 当前时间详细信息: 年=2025, 月=5, 日=8, 时=13, 分=35, 秒=4
2025-05-08 13:35:04 - 当前时间详细信息: 年=2025, 月=5, 日=8, 时=13, 分=35, 秒=4
2025-05-08 13:35:04 - 执行查询：查找应该更新为'使用中'的预约
2025-05-08 13:35:04 - 执行查询：查找应该更新为'使用中'的预约
2025-05-08 13:35:04 - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-08 13:35:04.789353 AND Reservation.end_datetime > 2025-05-08 13:35:04.789353
2025-05-08 13:35:04 - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-08 13:35:04.789353 AND Reservation.end_datetime > 2025-05-08 13:35:04.789353
2025-05-08 13:35:04 - 找到 0 个应该更新为'使用中'的预约
2025-05-08 13:35:04 - 找到 0 个应该更新为'使用中'的预约
2025-05-08 13:35:04 - 执行查询：查找应该更新为'已过期'的预约
2025-05-08 13:35:04 - 执行查询：查找应该更新为'已过期'的预约
2025-05-08 13:35:04 - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-08 13:35:04.789353
2025-05-08 13:35:04 - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-08 13:35:04.789353
2025-05-08 13:35:04 - 找到 0 个应该更新为'已过期'的预约
2025-05-08 13:35:04 - 找到 0 个应该更新为'已过期'的预约
2025-05-08 13:35:04 - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-08 13:35:04 - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-08 13:35:04 - 没有预约需要更新状态
2025-05-08 13:35:04 - 没有预约需要更新状态
2025-05-08 13:35:04 - Application startup complete.
2025-05-08 13:35:06 - 127.0.0.1:13810 - "GET / HTTP/1.1" 200
2025-05-08 13:35:07 - 127.0.0.1:13832 - "GET /favicon.ico HTTP/1.1" 404
2025-05-08 13:35:27 - 127.0.0.1:13935 - "GET /api/equipment-categories/all HTTP/1.1" 200
2025-05-08 13:35:37 - 10.6.140.91:7297 - "OPTIONS /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:35:37 - 10.6.140.91:7296 - "OPTIONS /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:35:37 - 10.6.140.91:7298 - "GET /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:35:37 - 10.6.140.91:7299 - "GET /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:35:45 - 10.6.140.91:7306 - "OPTIONS /api/equipment?page=1&limit=20 HTTP/1.1" 200
2025-05-08 13:35:45 - 10.6.140.91:7307 - "OPTIONS /api/equipment/categories HTTP/1.1" 200
2025-05-08 13:35:45 - 10.6.140.91:7309 - "GET /api/equipment?page=1&limit=20 HTTP/1.1" 307
2025-05-08 13:35:45 - 10.6.140.91:7308 - "GET /api/equipment/categories HTTP/1.1" 200
2025-05-08 13:35:45 - 10.6.140.91:7309 - "OPTIONS /api/equipment/?page=1&limit=20 HTTP/1.1" 200
2025-05-08 13:35:45 - 10.6.140.91:7310 - "GET /api/equipment/?page=1&limit=20 HTTP/1.1" 200
2025-05-08 13:35:48 - 10.6.140.91:7310 - "OPTIONS /api/reservation?limit=1000 HTTP/1.1" 200
2025-05-08 13:35:48 - 10.6.140.91:7308 - "OPTIONS /api/equipment-categories/all HTTP/1.1" 200
2025-05-08 13:35:48 - 10.6.140.91:7316 - "GET /api/reservation?limit=1000 HTTP/1.1" 307
2025-05-08 13:35:48 - 10.6.140.91:7315 - "GET /api/equipment-categories/all HTTP/1.1" 200
2025-05-08 13:35:48 - 10.6.140.91:7316 - "OPTIONS /api/reservation/?limit=1000 HTTP/1.1" 200
2025-05-08 13:35:48 - 排序参数: sort_by=None, sort_order=None
2025-05-08 13:35:48 - 排序参数: sort_by=None, sort_order=None
2025-05-08 13:35:48 - 10.6.140.91:7317 - "GET /api/reservation/?limit=1000 HTTP/1.1" 200
2025-05-08 13:35:50 - 10.6.140.91:7317 - "GET /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:35:50 - 10.6.140.91:7315 - "GET /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:36:04 - 执行预约状态更新任务
2025-05-08 13:36:04 - 执行预约状态更新任务
2025-05-08 13:36:04 - 当前时间: 2025-05-08 13:36:04.811244
2025-05-08 13:36:04 - 当前时间: 2025-05-08 13:36:04.811244
2025-05-08 13:36:04 - 当前时间详细信息: 年=2025, 月=5, 日=8, 时=13, 分=36, 秒=4
2025-05-08 13:36:04 - 当前时间详细信息: 年=2025, 月=5, 日=8, 时=13, 分=36, 秒=4
2025-05-08 13:36:04 - 执行查询：查找应该更新为'使用中'的预约
2025-05-08 13:36:04 - 执行查询：查找应该更新为'使用中'的预约
2025-05-08 13:36:04 - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-08 13:36:04.811244 AND Reservation.end_datetime > 2025-05-08 13:36:04.811244
2025-05-08 13:36:04 - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-08 13:36:04.811244 AND Reservation.end_datetime > 2025-05-08 13:36:04.811244
2025-05-08 13:36:04 - 找到 0 个应该更新为'使用中'的预约
2025-05-08 13:36:04 - 找到 0 个应该更新为'使用中'的预约
2025-05-08 13:36:04 - 执行查询：查找应该更新为'已过期'的预约
2025-05-08 13:36:04 - 执行查询：查找应该更新为'已过期'的预约
2025-05-08 13:36:04 - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-08 13:36:04.811244
2025-05-08 13:36:04 - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-08 13:36:04.811244
2025-05-08 13:36:04 - 找到 0 个应该更新为'已过期'的预约
2025-05-08 13:36:04 - 找到 0 个应该更新为'已过期'的预约
2025-05-08 13:36:04 - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-08 13:36:04 - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-08 13:36:04 - 没有预约需要更新状态
2025-05-08 13:36:04 - 没有预约需要更新状态
2025-05-08 13:36:50 - 10.6.140.91:7418 - "GET /api/equipment?page=1&limit=20 HTTP/1.1" 307
2025-05-08 13:36:50 - 10.6.140.91:7419 - "GET /api/equipment/categories HTTP/1.1" 200
2025-05-08 13:36:50 - 10.6.140.91:7418 - "GET /api/equipment/?page=1&limit=20 HTTP/1.1" 200
2025-05-08 13:36:52 - 10.6.140.91:7419 - "GET /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:36:52 - 10.6.140.91:7418 - "GET /api/reservations/calendar?start_date=2025-05-01&end_date=2025-06-01 HTTP/1.1" 200
2025-05-08 13:36:53 - 10.6.140.91:7419 - "GET /api/reservation?limit=1000 HTTP/1.1" 307
2025-05-08 13:36:53 - 10.6.140.91:7418 - "GET /api/equipment-categories/all HTTP/1.1" 200
2025-05-08 13:36:53 - 排序参数: sort_by=None, sort_order=None
2025-05-08 13:36:53 - 排序参数: sort_by=None, sort_order=None
2025-05-08 13:36:53 - 10.6.140.91:7419 - "GET /api/reservation/?limit=1000 HTTP/1.1" 200
