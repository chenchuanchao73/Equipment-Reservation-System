2025-05-12 08:33:24 - backend.i18n - INFO - 国际化设置成功
2025-05-12 08:33:25 - backend.main - INFO - 应用启动 / Application started
2025-05-12 08:33:25 - backend.database - INFO - 数据库初始化成功
2025-05-12 08:33:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:33:25.071792
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=33, 秒=25
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:33:25.071792 AND Reservation.end_datetime > 2025-05-12 08:33:25.071792
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:33:25.071792
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:33:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:34:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:34:25.096935
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=34, 秒=25
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:34:25.096935 AND Reservation.end_datetime > 2025-05-12 08:34:25.096935
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:34:25.096935
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:34:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:35:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:35:25.114613
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=35, 秒=25
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:35:25.114613 AND Reservation.end_datetime > 2025-05-12 08:35:25.114613
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:35:25.114613
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:35:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:36:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:36:25.131602
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=36, 秒=25
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:36:25.131602 AND Reservation.end_datetime > 2025-05-12 08:36:25.131602
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:36:25.131602
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:36:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:37:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:37:25.147476
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=37, 秒=25
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:37:25.147476 AND Reservation.end_datetime > 2025-05-12 08:37:25.147476
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:37:25.147476
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:37:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:38:00 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 08:38:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:38:25.161271
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=38, 秒=25
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:38:25.161271 AND Reservation.end_datetime > 2025-05-12 08:38:25.161271
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:38:25.161271
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:38:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:38:25 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 找到已确认的预约: ID=172
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=confirmed, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 找到已确认的预约: ID=172
2025-05-12 08:38:28 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=confirmed, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 08:39:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:39:25.185469
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=39, 秒=25
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:39:25.185469 AND Reservation.end_datetime > 2025-05-12 08:39:25.185469
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:39:25.185469
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:39:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:40:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:40:25.200915
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=40, 秒=25
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:40:25.200915 AND Reservation.end_datetime > 2025-05-12 08:40:25.200915
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:40:25.200915
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:40:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:41:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:41:25.215907
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=41, 秒=25
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:41:25.215907 AND Reservation.end_datetime > 2025-05-12 08:41:25.215907
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:41:25.215907
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:41:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:42:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:42:25.223628
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=42, 秒=25
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:42:25.223628 AND Reservation.end_datetime > 2025-05-12 08:42:25.223628
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:42:25.223628
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:42:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:43:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:43:25.249374
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=43, 秒=25
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:43:25.249374 AND Reservation.end_datetime > 2025-05-12 08:43:25.249374
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:43:25.249374
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:43:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:44:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:44:25.259041
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=44, 秒=25
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:44:25.259041 AND Reservation.end_datetime > 2025-05-12 08:44:25.259041
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:44:25.259041
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:44:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:45:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:45:25.266871
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=45, 秒=25
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:45:25.266871 AND Reservation.end_datetime > 2025-05-12 08:45:25.266871
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:45:25.266871
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:45:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:46:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:46:25.284045
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=46, 秒=25
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:46:25.284045 AND Reservation.end_datetime > 2025-05-12 08:46:25.284045
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:46:25.284045
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:46:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:47:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:47:25.290062
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=47, 秒=25
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:47:25.290062 AND Reservation.end_datetime > 2025-05-12 08:47:25.290062
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:47:25.290062
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:47:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:48:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:48:25.299869
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=48, 秒=25
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:48:25.299869 AND Reservation.end_datetime > 2025-05-12 08:48:25.299869
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:48:25.299869
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:48:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:49:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:49:25.303206
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=49, 秒=25
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:49:25.303206 AND Reservation.end_datetime > 2025-05-12 08:49:25.303206
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:49:25.303206
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:49:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:49:56 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:49:56 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:49:58 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:49:59 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:50:01 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:50:02 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:50:04 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:50:05 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 08:50:09 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 08:50:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:50:25.321746
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=50, 秒=25
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:50:25.321746 AND Reservation.end_datetime > 2025-05-12 08:50:25.321746
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:50:25.321746
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:50:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:51:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:51:25.338256
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=51, 秒=25
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:51:25.338256 AND Reservation.end_datetime > 2025-05-12 08:51:25.338256
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:51:25.338256
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:51:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:52:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:52:25.354683
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=52, 秒=25
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:52:25.354683 AND Reservation.end_datetime > 2025-05-12 08:52:25.354683
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:52:25.354683
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:52:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:53:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:53:25.368200
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=53, 秒=25
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:53:25.368200 AND Reservation.end_datetime > 2025-05-12 08:53:25.368200
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:53:25.368200
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:53:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:54:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:54:25.383082
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=54, 秒=25
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:54:25.383082 AND Reservation.end_datetime > 2025-05-12 08:54:25.383082
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:54:25.383082
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:54:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:55:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:55:25.398104
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=55, 秒=25
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:55:25.398104 AND Reservation.end_datetime > 2025-05-12 08:55:25.398104
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:55:25.398104
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:55:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:56:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:56:25.412728
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=56, 秒=25
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:56:25.412728 AND Reservation.end_datetime > 2025-05-12 08:56:25.412728
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:56:25.412728
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:56:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:57:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:57:25.423791
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=57, 秒=25
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:57:25.423791 AND Reservation.end_datetime > 2025-05-12 08:57:25.423791
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:57:25.423791
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:57:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:58:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:58:25.434393
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=58, 秒=25
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:58:25.434393 AND Reservation.end_datetime > 2025-05-12 08:58:25.434393
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:58:25.434393
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:58:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 08:59:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 08:59:25.444905
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=8, 分=59, 秒=25
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 08:59:25.444905 AND Reservation.end_datetime > 2025-05-12 08:59:25.444905
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 08:59:25.444905
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 08:59:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:00:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:00:25.468735
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=0, 秒=25
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:00:25.468735 AND Reservation.end_datetime > 2025-05-12 09:00:25.468735
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:00:25.468735
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:00:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:01:03 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:01:03 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:01:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:01:25.483385
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=1, 秒=25
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:01:25.483385 AND Reservation.end_datetime > 2025-05-12 09:01:25.483385
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:01:25.483385
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:01:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:02:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:02:25.505352
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=2, 秒=25
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:02:25.505352 AND Reservation.end_datetime > 2025-05-12 09:02:25.505352
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:02:25.505352
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:02:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:03:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:03:25.518783
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=3, 秒=25
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:03:25.518783 AND Reservation.end_datetime > 2025-05-12 09:03:25.518783
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:03:25.518783
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:03:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:04:23 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:04:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:04:25.525681
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=4, 秒=25
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:04:25.525681 AND Reservation.end_datetime > 2025-05-12 09:04:25.525681
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:04:25.525681
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:04:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:04:35 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250509-2807
2025-05-12 09:04:35 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=172, 状态=confirmed, 预约序号=RN-20250509-2807
2025-05-12 09:04:35 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=172, 状态=confirmed, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 09:04:42 - backend.routes.reservation - INFO - [API请求体] 取消预约请求体: {'reservation_code': None, 'user_contact': None, 'reason': None, 'lang': 'zh_CN', 'reservation_number': 'RN-20250509-2807', 'user_email': None, 'early_return': False}
2025-05-12 09:04:42 - backend.routes.reservation - INFO - [API调用] 取消预约API: 预约码=LKJZJTLV, 用户邮箱=None, 预约序号=RN-20250509-2807, 语言=zh_CN
2025-05-12 09:04:42 - backend.routes.reservation - INFO - [API参数] 预约序号参数存在: RN-20250509-2807
2025-05-12 09:04:42 - backend.routes.reservation - INFO - [API信息] 设备信息: ID=1, 名称=SpeakerA
2025-05-12 09:04:42 - backend.routes.reservation - INFO - [API状态] 取消预约前状态: 预约码=LKJZJTLV, ID=172, 预约序号=RN-20250509-2807, 状态=confirmed
2025-05-12 09:04:42 - backend.routes.crud.reservation - INFO - [数据库操作] 根据预约序号取消预约: 预约码=LKJZJTLV, 预约序号=RN-20250509-2807
2025-05-12 09:04:42 - backend.routes.crud.reservation - INFO - [数据库操作] 找到预约数量: 1, 预约码=LKJZJTLV, 预约序号=RN-20250509-2807
2025-05-12 09:04:42 - backend.routes.crud.reservation - INFO - [数据库状态] 预约状态: ID=172, 预约序号=RN-20250509-2807, 状态=confirmed, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00
2025-05-12 09:04:42 - backend.routes.crud.reservation - INFO - [数据库操作] 取消预约前状态: ID=172, 预约序号=RN-20250509-2807, 状态=confirmed
2025-05-12 09:04:42 - backend.routes.crud.reservation - INFO - [数据库操作] 已将预约状态更新为cancelled: ID=172, 预约序号=RN-20250509-2807
2025-05-12 09:04:42 - backend.routes.crud.reservation - INFO - [数据库验证] 验证预约状态: ID=172, 预约序号=RN-20250509-2807, 状态=cancelled
2025-05-12 09:04:42 - backend.routes.crud.reservation - INFO - [数据库验证] 成功更新预约状态数量: 1/1
2025-05-12 09:04:42 - backend.routes.reservation - INFO - [API结果] 取消预约结果: 成功=True, 消息=预定已取消
2025-05-12 09:04:42 - backend.routes.reservation - INFO - [API验证] 取消预约后状态: 预约码=LKJZJTLV, ID=172, 预约序号=RN-20250509-2807, 状态=cancelled
2025-05-12 09:04:42 - backend.utils.email_sender - INFO - [邮件发送] 类型: 单次预约取消, 模板: reservation_single_cancelled, 收件人: chen.chuanchao@htschools.org, 预约码: LKJZJTLV, 预约序号: RN-20250509-2807, is_recurring=False, is_child=False
2025-05-12 09:04:43 - backend.utils.email_sender - INFO - 邮件发送成功: 主收件人=chen.chuanchao@htschools.org, 抄送=['chen.chuanchao@htschools.org', 'chenchuanchao73@163.com'], 密送=['chenchuanchao73@gmail.com']
2025-05-12 09:04:43 - backend.utils.email_sender - INFO - [邮件发送结果] 类型: 单次预约取消, 收件人: chen.chuanchao@htschools.org, 结果: 成功
2025-05-12 09:04:43 - backend.routes.reservation - INFO - [API邮件] 发送单次预约取消邮件: 收件人=chen.chuanchao@htschools.org
2025-05-12 09:04:43 - backend.routes.reservation - INFO - [API邮件] 取消确认邮件发送成功
2025-05-12 09:04:45 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:04:45 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:05:04 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250523-2781-3
2025-05-12 09:05:04 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=171, 状态=confirmed, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:04 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=171, 状态=confirmed, 开始时间=2025-05-23 22:59:00, 结束时间=2025-05-23 23:52:00, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:15 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250523-2781-3
2025-05-12 09:05:15 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=171, 状态=confirmed, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:15 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=171, 状态=confirmed, 开始时间=2025-05-23 22:59:00, 结束时间=2025-05-23 23:52:00, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:15 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:05:17 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250523-2781-3
2025-05-12 09:05:17 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=171, 状态=confirmed, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:17 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=171, 状态=confirmed, 开始时间=2025-05-23 22:59:00, 结束时间=2025-05-23 23:52:00, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API请求体] 取消预约请求体: {'reservation_code': None, 'user_contact': None, 'reason': None, 'lang': 'zh_CN', 'reservation_number': 'RN-20250523-2781-3', 'user_email': None, 'early_return': False}
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API调用] 取消预约API: 预约码=PDRL4WK6, 用户邮箱=None, 预约序号=RN-20250523-2781-3, 语言=zh_CN
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API参数] 预约序号参数存在: RN-20250523-2781-3
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API信息] 设备信息: ID=1, 名称=SpeakerA
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API状态] 取消预约前状态: 预约码=PDRL4WK6, ID=171, 预约序号=RN-20250523-2781-3, 状态=confirmed
2025-05-12 09:05:22 - backend.routes.crud.reservation - INFO - [数据库操作] 根据预约序号取消预约: 预约码=PDRL4WK6, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:22 - backend.routes.crud.reservation - INFO - [数据库操作] 找到预约数量: 1, 预约码=PDRL4WK6, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:22 - backend.routes.crud.reservation - INFO - [数据库状态] 预约状态: ID=171, 预约序号=RN-20250523-2781-3, 状态=confirmed, 开始时间=2025-05-23 22:59:00, 结束时间=2025-05-23 23:52:00
2025-05-12 09:05:22 - backend.routes.crud.reservation - INFO - [数据库操作] 取消预约前状态: ID=171, 预约序号=RN-20250523-2781-3, 状态=confirmed
2025-05-12 09:05:22 - backend.routes.crud.reservation - INFO - [数据库操作] 已将预约状态更新为cancelled: ID=171, 预约序号=RN-20250523-2781-3
2025-05-12 09:05:22 - backend.routes.crud.reservation - INFO - [数据库验证] 验证预约状态: ID=171, 预约序号=RN-20250523-2781-3, 状态=cancelled
2025-05-12 09:05:22 - backend.routes.crud.reservation - INFO - [数据库验证] 成功更新预约状态数量: 1/1
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API结果] 取消预约结果: 成功=True, 消息=预定已取消
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API验证] 取消预约后状态: 预约码=PDRL4WK6, ID=171, 预约序号=RN-20250523-2781-3, 状态=cancelled
2025-05-12 09:05:22 - backend.utils.date_utils - ERROR - 转换为北京时间失败: 'datetime.date' object has no attribute 'tzinfo'
2025-05-12 09:05:22 - backend.utils.date_utils - ERROR - 转换为北京时间失败: 'datetime.date' object has no attribute 'tzinfo'
2025-05-12 09:05:22 - backend.routes.reservation - INFO - [API邮件] 找到父循环预约信息: ID=27, 预约码=PDRL4WK6
2025-05-12 09:05:22 - backend.utils.email_sender - INFO - [邮件发送] 类型: 循环子预约取消, 模板: reservation_recurring_cancelled, 收件人: chen.chuanchao@htschools.org, 预约码: PDRL4WK6, 预约序号: RN-20250523-2781-3, is_recurring=True, is_child=True
2025-05-12 09:05:23 - backend.utils.email_sender - INFO - 邮件发送成功: 主收件人=chen.chuanchao@htschools.org, 抄送=['chen.chuanchao@htschools.org', 'chenchuanchao73@163.com'], 密送=['chenchuanchao73@gmail.com']
2025-05-12 09:05:23 - backend.utils.email_sender - INFO - [邮件发送结果] 类型: 循环子预约取消, 收件人: chen.chuanchao@htschools.org, 结果: 成功
2025-05-12 09:05:23 - backend.routes.reservation - INFO - [API邮件] 发送循环子预约取消邮件: 收件人=chen.chuanchao@htschools.org
2025-05-12 09:05:23 - backend.routes.reservation - INFO - [API邮件] 取消确认邮件发送成功
2025-05-12 09:05:25 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:05:25 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:05:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:05:25.539251
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=5, 秒=25
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:05:25.539251 AND Reservation.end_datetime > 2025-05-12 09:05:25.539251
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:05:25.539251
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:05:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:05:31 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 找到已确认的预约: ID=170
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 找到已确认的预约: ID=170
2025-05-12 09:05:42 - backend.routes.reservation - INFO - 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 找到已确认的预约: ID=170
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 找到已确认的预约: ID=170
2025-05-12 09:05:54 - backend.routes.reservation - INFO - 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 09:06:07 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 找到已确认的预约: ID=170
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 找到已确认的预约: ID=170
2025-05-12 09:06:10 - backend.routes.reservation - INFO - 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 09:06:19 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 找到已确认的预约: ID=164
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 成功获取预约: ID=164, 状态=confirmed, 开始时间=2025-05-12 09:42:00, 结束时间=2025-05-12 10:42:00, 预约序号=RN-20250512-8594-2
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 找到已确认的预约: ID=164
2025-05-12 09:06:24 - backend.routes.reservation - INFO - 成功获取预约: ID=164, 状态=confirmed, 开始时间=2025-05-12 09:42:00, 结束时间=2025-05-12 10:42:00, 预约序号=RN-20250512-8594-2
2025-05-12 09:06:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:06:25.551736
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=6, 秒=25
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:06:25.551736 AND Reservation.end_datetime > 2025-05-12 09:06:25.551736
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:06:25.551736
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:06:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 找到已确认的预约: ID=164
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 成功获取预约: ID=164, 状态=confirmed, 开始时间=2025-05-12 09:42:00, 结束时间=2025-05-12 10:42:00, 预约序号=RN-20250512-8594-2
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 找到已确认的预约: ID=164
2025-05-12 09:07:09 - backend.routes.reservation - INFO - 成功获取预约: ID=164, 状态=confirmed, 开始时间=2025-05-12 09:42:00, 结束时间=2025-05-12 10:42:00, 预约序号=RN-20250512-8594-2
2025-05-12 09:07:16 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:07:16 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:07:18 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:07:23 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:07:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:07:25.569504
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=7, 秒=25
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:07:25.569504 AND Reservation.end_datetime > 2025-05-12 09:07:25.569504
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:07:25.569504
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:07:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:07:26 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:08:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:08:25.575329
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=8, 秒=25
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:08:25.575329 AND Reservation.end_datetime > 2025-05-12 09:08:25.575329
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:08:25.575329
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:08:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:09:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:09:25.580016
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=9, 秒=25
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:09:25.580016 AND Reservation.end_datetime > 2025-05-12 09:09:25.580016
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:09:25.580016
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:09:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:10:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:10:25.597990
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=10, 秒=25
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:10:25.597990 AND Reservation.end_datetime > 2025-05-12 09:10:25.597990
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:10:25.597990
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:10:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:11:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:11:25.610521
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=11, 秒=25
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:11:25.610521 AND Reservation.end_datetime > 2025-05-12 09:11:25.610521
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:11:25.610521
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:11:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:12:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:12:25.617175
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=12, 秒=25
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:12:25.617175 AND Reservation.end_datetime > 2025-05-12 09:12:25.617175
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:12:25.617175
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:12:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:13:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:13:25.626906
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=13, 秒=25
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:13:25.626906 AND Reservation.end_datetime > 2025-05-12 09:13:25.626906
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:13:25.626906
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:13:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:14:25 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:14:25.641066
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=14, 秒=25
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:14:25.641066 AND Reservation.end_datetime > 2025-05-12 09:14:25.641066
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:14:25.641066
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:14:25 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:14:38 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:14:38 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:14:39 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:14:39 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:14:39 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:14:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:14:39.618102
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=14, 秒=39
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:14:39.618102 AND Reservation.end_datetime > 2025-05-12 09:14:39.618102
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:14:39.618102
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:14:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:15:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:15:39.644588
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=15, 秒=39
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:15:39.644588 AND Reservation.end_datetime > 2025-05-12 09:15:39.644588
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:15:39.644588
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:15:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:16:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:16:39.664401
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=16, 秒=39
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:16:39.664401 AND Reservation.end_datetime > 2025-05-12 09:16:39.664401
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:16:39.664401
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:16:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:17:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:17:39.680249
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=17, 秒=39
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:17:39.680249 AND Reservation.end_datetime > 2025-05-12 09:17:39.680249
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:17:39.680249
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:17:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:18:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:18:39.696814
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=18, 秒=39
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:18:39.696814 AND Reservation.end_datetime > 2025-05-12 09:18:39.696814
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 找到 1 个应该更新为'使用中'的预约
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 预约ID: 103, 开始时间: 2025-05-12 09:18:00, 结束时间: 2025-05-12 10:18:00, 当前状态: confirmed
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 预约ID: 103, 当前时间与开始时间的差值(秒): 39.696814, 结束时间与当前时间的差值(秒): 3560.303186
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:18:39.696814
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=1条, 已过期=0条
2025-05-12 09:18:39 - backend.utils.status_updater - INFO - 已更新预约状态: 1个更新为'使用中', 0个更新为'已过期'
2025-05-12 09:19:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:19:39.710718
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=19, 秒=39
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:19:39.710718 AND Reservation.end_datetime > 2025-05-12 09:19:39.710718
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:19:39.710718
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:19:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:20:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:20:39.731529
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=20, 秒=39
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:20:39.731529 AND Reservation.end_datetime > 2025-05-12 09:20:39.731529
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:20:39.731529
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:20:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:20:45 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:20:48 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:21:01 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:21:01 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:21:01 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:21:01 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:21:01 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 找到已确认的预约: ID=141
2025-05-12 09:21:12 - backend.routes.reservation - INFO - 成功获取预约: ID=141, 状态=confirmed, 开始时间=2025-05-12 10:34:00, 结束时间=2025-05-12 11:34:00, 预约序号=RN-20250512-8071-2
2025-05-12 09:21:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:21:39.743827
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=21, 秒=39
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:21:39.743827 AND Reservation.end_datetime > 2025-05-12 09:21:39.743827
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:21:39.743827
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:21:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:22:39 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:22:39.750560
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=22, 秒=39
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:22:39.750560 AND Reservation.end_datetime > 2025-05-12 09:22:39.750560
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:22:39.750560
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:22:39 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:22:44 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:22:44 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:22:45 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:22:45 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:22:45 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:22:45 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:22:45.655110
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=22, 秒=45
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:22:45.655110 AND Reservation.end_datetime > 2025-05-12 09:22:45.655110
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:22:45.655110
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:22:45 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:23:45 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:23:45 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:23:45 - backend.routes.reservation - ERROR - 获取预定详情出错: 10 validation errors for ReservationResponse
data.equipment_id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_name
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_department
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_contact
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.start_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.end_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.reservation_number
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.status
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.created_at
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-12 09:23:45 - backend.routes.reservation - ERROR - Traceback (most recent call last):
  File "d:\Equipment-Reservation-System-main\backend\routes\reservation.py", line 252, in get_reservation_by_code_api
    return ReservationResponse(
        success=False,  # 设置为False，让前端知道这不是普通预约
    ...<5 lines>...
        }
    )
  File "D:\Python Projects\.venv\Lib\site-packages\pydantic\main.py", line 230, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 10 validation errors for ReservationResponse
data.equipment_id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_name
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_department
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_contact
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.start_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.end_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.reservation_number
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.status
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.created_at
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': '8B5OJ4OI'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

2025-05-12 09:23:45 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:23:45.678006
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=23, 秒=45
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:23:45.678006 AND Reservation.end_datetime > 2025-05-12 09:23:45.678006
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:23:45.678006
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:23:45 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:24:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4O, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:24:03 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:24:03 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:24:03 - backend.routes.reservation - WARNING - 未找到与预约码匹配的预约: 8B5OJ4O
2025-05-12 09:24:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4O, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:24:04 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:24:04 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:24:04 - backend.routes.reservation - WARNING - 未找到与预约码匹配的预约: 8B5OJ4O
2025-05-12 09:24:16 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:24:16 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:24:26 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:24:29 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:24:29 - backend.routes.reservation - INFO - 预约码 PDRL4WK6 属于循环预约，ID=27
2025-05-12 09:24:29 - backend.routes.reservation - ERROR - 获取预定详情出错: 10 validation errors for ReservationResponse
data.equipment_id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_name
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_department
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_contact
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.start_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.end_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.reservation_number
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.status
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.created_at
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-12 09:24:29 - backend.routes.reservation - ERROR - Traceback (most recent call last):
  File "d:\Equipment-Reservation-System-main\backend\routes\reservation.py", line 252, in get_reservation_by_code_api
    return ReservationResponse(
        success=False,  # 设置为False，让前端知道这不是普通预约
    ...<5 lines>...
        }
    )
  File "D:\Python Projects\.venv\Lib\site-packages\pydantic\main.py", line 230, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 10 validation errors for ReservationResponse
data.equipment_id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_name
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_department
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_contact
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.start_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.end_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.reservation_number
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.status
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.created_at
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

2025-05-12 09:24:45 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:24:45.694795
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=24, 秒=45
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:24:45.694795 AND Reservation.end_datetime > 2025-05-12 09:24:45.694795
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:24:45.694795
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:24:45 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:24:59 - backend.routes.reservation - INFO - 获取预约详情: 预约码=PDRL4WK6, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:24:59 - backend.routes.reservation - INFO - 预约码 PDRL4WK6 属于循环预约，ID=27
2025-05-12 09:24:59 - backend.routes.reservation - ERROR - 获取预定详情出错: 10 validation errors for ReservationResponse
data.equipment_id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_name
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_department
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_contact
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.start_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.end_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.reservation_number
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.status
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.created_at
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-12 09:24:59 - backend.routes.reservation - ERROR - Traceback (most recent call last):
  File "d:\Equipment-Reservation-System-main\backend\routes\reservation.py", line 252, in get_reservation_by_code_api
    return ReservationResponse(
        success=False,  # 设置为False，让前端知道这不是普通预约
    ...<5 lines>...
        }
    )
  File "D:\Python Projects\.venv\Lib\site-packages\pydantic\main.py", line 230, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 10 validation errors for ReservationResponse
data.equipment_id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_name
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_department
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.user_contact
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.start_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.end_datetime
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.id
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.reservation_number
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.status
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
data.created_at
  Field required [type=missing, input_value={'is_recurring': True, 'r...ation_code': 'PDRL4WK6'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

2025-05-12 09:25:45 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:25:45.711710
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=25, 秒=45
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:25:45.711710 AND Reservation.end_datetime > 2025-05-12 09:25:45.711710
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:25:45.711710
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:25:45 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:25:53 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:25:53 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:25:53 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:25:54 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:25:54 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:25:54 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:25:54.172862
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=25, 秒=54
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:25:54.172862 AND Reservation.end_datetime > 2025-05-12 09:25:54.172862
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:25:54.172862
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:25:54 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:26:02 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:26:05 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:26:05 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:26:10 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:26:10 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:26:11 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:26:12 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:26:12 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:26:12 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:26:12.018854
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=26, 秒=12
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:26:12.018854 AND Reservation.end_datetime > 2025-05-12 09:26:12.018854
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:26:12.018854
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:26:12 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:26:12 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:26:12 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:26:15 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:26:19 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:26:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:26:21 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:26:38 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 09:26:41 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 09:27:05 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:27:07 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:27:07 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:27:08 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:27:12 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:27:12.035359
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=27, 秒=12
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:27:12.035359 AND Reservation.end_datetime > 2025-05-12 09:27:12.035359
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:27:12.035359
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:27:12 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:27:12 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:27:15 - backend.routes.reservation - INFO - 获取预约详情: 预约码=OQQXGZT2, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:27:15 - backend.routes.reservation - INFO - 预约码 OQQXGZT2 属于循环预约，ID=24
2025-05-12 09:28:12 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:28:12.047755
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=28, 秒=12
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:28:12.047755 AND Reservation.end_datetime > 2025-05-12 09:28:12.047755
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:28:12.047755
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:28:12 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:29:12 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:29:12.066835
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=29, 秒=12
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:29:12.066835 AND Reservation.end_datetime > 2025-05-12 09:29:12.066835
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:29:12.066835
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:29:12 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:29:59 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:30:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:30:04 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:30:12 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:30:12.083483
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=30, 秒=12
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:30:12.083483 AND Reservation.end_datetime > 2025-05-12 09:30:12.083483
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:30:12.083483
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:30:12 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:30:51 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:30:51 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:30:52 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:30:52 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:30:52 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:30:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:30:52.762849
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=30, 秒=52
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:30:52.762849 AND Reservation.end_datetime > 2025-05-12 09:30:52.762849
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:30:52.762849
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:30:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:30:56 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:31:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:31:52.792111
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=31, 秒=52
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:31:52.792111 AND Reservation.end_datetime > 2025-05-12 09:31:52.792111
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:31:52.792111
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:31:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:32:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:32:52.797853
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=32, 秒=52
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:32:52.797853 AND Reservation.end_datetime > 2025-05-12 09:32:52.797853
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:32:52.797853
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:32:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:33:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:33:52.805816
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=33, 秒=52
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:33:52.805816 AND Reservation.end_datetime > 2025-05-12 09:33:52.805816
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:33:52.805816
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:33:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:33:59 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:33:59 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:34:28 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:34:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:34:42 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:34:45 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:34:45 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:34:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:34:52.811598
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=34, 秒=52
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:34:52.811598 AND Reservation.end_datetime > 2025-05-12 09:34:52.811598
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:34:52.811598
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:34:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:34:56 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:34:56 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:35:52 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:35:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:35:52.821426
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=35, 秒=52
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:35:52.821426 AND Reservation.end_datetime > 2025-05-12 09:35:52.821426
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:35:52.821426
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:35:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:35:58 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:36:01 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:36:01 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:36:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:36:52.840539
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=36, 秒=52
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:36:52.840539 AND Reservation.end_datetime > 2025-05-12 09:36:52.840539
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:36:52.840539
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:36:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:37:18 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:37:18 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:37:30 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:37:52 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:37:52.852755
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=37, 秒=52
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:37:52.852755 AND Reservation.end_datetime > 2025-05-12 09:37:52.852755
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:37:52.852755
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:37:52 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:37:56 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:37:56 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:38:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:38:03 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:38:33 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:38:33 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:38:34 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:38:34 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:38:34 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:38:34 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:38:34.665277
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=38, 秒=34
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:38:34.665277 AND Reservation.end_datetime > 2025-05-12 09:38:34.665277
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:38:34.665277
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:38:34 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:39:00 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:39:00 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:39:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:39:02 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:39:16 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:39:17 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:39:17 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:39:17 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:39:17.063966
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=39, 秒=17
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:39:17.063966 AND Reservation.end_datetime > 2025-05-12 09:39:17.063966
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:39:17.063966
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:39:17 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:40:17 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:40:17.093138
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=40, 秒=17
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:40:17.093138 AND Reservation.end_datetime > 2025-05-12 09:40:17.093138
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:40:17.093138
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:40:17 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:41:17 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:41:17.103836
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=41, 秒=17
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:41:17.103836 AND Reservation.end_datetime > 2025-05-12 09:41:17.103836
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:41:17.103836
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:41:17 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:42:17 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:42:17.108391
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=42, 秒=17
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:42:17.108391 AND Reservation.end_datetime > 2025-05-12 09:42:17.108391
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 找到 1 个应该更新为'使用中'的预约
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 预约ID: 164, 开始时间: 2025-05-12 09:42:00, 结束时间: 2025-05-12 10:42:00, 当前状态: confirmed
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 预约ID: 164, 当前时间与开始时间的差值(秒): 17.108391, 结束时间与当前时间的差值(秒): 3582.891609
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:42:17.108391
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=1条, 已过期=0条
2025-05-12 09:42:17 - backend.utils.status_updater - INFO - 已更新预约状态: 1个更新为'使用中', 0个更新为'已过期'
2025-05-12 09:43:17 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:43:17.137958
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=43, 秒=17
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:43:17.137958 AND Reservation.end_datetime > 2025-05-12 09:43:17.137958
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:43:17.137958
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:43:17 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:43:53 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:43:53 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:43:54 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:43:54 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:43:54 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:43:54 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:43:54.732777
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=43, 秒=54
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:43:54.732777 AND Reservation.end_datetime > 2025-05-12 09:43:54.732777
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:43:54.732777
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:43:54 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:44:51 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:44:54 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:44:54.756238
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=44, 秒=54
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:44:54.756238 AND Reservation.end_datetime > 2025-05-12 09:44:54.756238
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:44:54.756238
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:44:54 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:45:25 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:45:25 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:45:26 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:45:28 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:45:28 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:45:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:45:31 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:45:41 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:45:41 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:45:45 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:45:45 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:45:54 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:45:54.775208
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=45, 秒=54
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:45:54.775208 AND Reservation.end_datetime > 2025-05-12 09:45:54.775208
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:45:54.775208
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:45:54 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:46:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:46:09 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:46:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:46:12 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:46:54 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:46:54.790156
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=46, 秒=54
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:46:54.790156 AND Reservation.end_datetime > 2025-05-12 09:46:54.790156
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:46:54.790156
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:46:54 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:47:54 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:47:54.799383
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=47, 秒=54
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:47:54.799383 AND Reservation.end_datetime > 2025-05-12 09:47:54.799383
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:47:54.799383
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:47:54 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:48:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:48:04 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:48:25 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:48:25 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:48:25 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:48:26 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:48:26 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:48:26 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:48:26.277926
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=48, 秒=26
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:48:26.277926 AND Reservation.end_datetime > 2025-05-12 09:48:26.277926
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:48:26.277926
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:48:26 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:49:23 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:49:26 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:49:26.296844
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=49, 秒=26
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:49:26.296844 AND Reservation.end_datetime > 2025-05-12 09:49:26.296844
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:49:26.296844
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:49:26 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:49:30 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:49:30 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:49:35 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:49:35 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:49:46 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:49:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:49:50 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:49:54 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:49:54 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:50:29 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:50:29 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:50:29 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:50:29 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:50:29.930846
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=50, 秒=29
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:50:29.930846 AND Reservation.end_datetime > 2025-05-12 09:50:29.930846
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:50:29.930846
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:50:29 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:50:38 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:50:38 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:50:38 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:50:51 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:50:54 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:50:54 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:50:56 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:50:56 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:51:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8594-4
2025-05-12 09:51:24 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8594-4，优先使用预约序号查询
2025-05-12 09:51:24 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8594-4
2025-05-12 09:51:24 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=166, 状态=cancelled
2025-05-12 09:51:24 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=166, 状态=cancelled
2025-05-12 09:51:29 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:51:29.944749
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=51, 秒=29
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:51:29.944749 AND Reservation.end_datetime > 2025-05-12 09:51:29.944749
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:51:29.944749
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:51:29 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:51:35 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8594-4
2025-05-12 09:51:35 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8594-4，优先使用预约序号查询
2025-05-12 09:51:35 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8594-4
2025-05-12 09:51:35 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=166, 状态=cancelled
2025-05-12 09:51:35 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=166, 状态=cancelled
2025-05-12 09:51:48 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8594-4
2025-05-12 09:51:48 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8594-4，优先使用预约序号查询
2025-05-12 09:51:48 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8594-4
2025-05-12 09:51:48 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=166, 状态=cancelled
2025-05-12 09:51:48 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=166, 状态=cancelled
2025-05-12 09:52:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:52:07 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:52:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-8594-2
2025-05-12 09:52:10 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-8594-2，优先使用预约序号查询
2025-05-12 09:52:10 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-8594-2
2025-05-12 09:52:10 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=164, 状态=in_use
2025-05-12 09:52:10 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=164, 状态=in_use
2025-05-12 09:52:18 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:52:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:52:23 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:52:25 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250519-8594-5
2025-05-12 09:52:25 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250519-8594-5，优先使用预约序号查询
2025-05-12 09:52:25 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250519-8594-5
2025-05-12 09:52:25 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=167, 状态=cancelled
2025-05-12 09:52:25 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=167, 状态=cancelled
2025-05-12 09:52:29 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:52:29.953985
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=52, 秒=29
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:52:29.953985 AND Reservation.end_datetime > 2025-05-12 09:52:29.953985
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:52:29.953985
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:52:29 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:52:55 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:52:55 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:52:56 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:52:56 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:52:56 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:52:56 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:52:56.473742
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=52, 秒=56
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:52:56.473742 AND Reservation.end_datetime > 2025-05-12 09:52:56.473742
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:52:56.473742
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:52:56 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:53:10 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:53:10 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:53:10 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:53:11 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:53:11 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:53:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:53:11.275685
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=53, 秒=11
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:53:11.275685 AND Reservation.end_datetime > 2025-05-12 09:53:11.275685
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:53:11.275685
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:53:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:53:48 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:53:59 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:54:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:54:02 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:54:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8594-4
2025-05-12 09:54:04 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8594-4，优先使用预约序号查询
2025-05-12 09:54:04 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8594-4
2025-05-12 09:54:04 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=166, 状态=cancelled
2025-05-12 09:54:04 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=166, 状态=cancelled
2025-05-12 09:54:04 - backend.routes.reservation - ERROR - 获取预定详情出错: 'Reservation' object has no attribute 'updated_at'
2025-05-12 09:54:04 - backend.routes.reservation - ERROR - Traceback (most recent call last):
  File "d:\Equipment-Reservation-System-main\backend\routes\reservation.py", line 284, in get_reservation_by_code_api
    "updated_at": reservation.updated_at.isoformat() if reservation.updated_at else None
                                                        ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Reservation' object has no attribute 'updated_at'. Did you mean: 'created_at'?

2025-05-12 09:54:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:54:11.295132
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=54, 秒=11
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:54:11.295132 AND Reservation.end_datetime > 2025-05-12 09:54:11.295132
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:54:11.295132
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:54:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:54:11 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:54:11 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:54:14 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250521-8594-6
2025-05-12 09:54:14 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250521-8594-6，优先使用预约序号查询
2025-05-12 09:54:14 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250521-8594-6
2025-05-12 09:54:14 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=168, 状态=cancelled
2025-05-12 09:54:14 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=168, 状态=cancelled
2025-05-12 09:54:14 - backend.routes.reservation - ERROR - 获取预定详情出错: 'Reservation' object has no attribute 'updated_at'
2025-05-12 09:54:14 - backend.routes.reservation - ERROR - Traceback (most recent call last):
  File "d:\Equipment-Reservation-System-main\backend\routes\reservation.py", line 284, in get_reservation_by_code_api
    "updated_at": reservation.updated_at.isoformat() if reservation.updated_at else None
                                                        ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Reservation' object has no attribute 'updated_at'. Did you mean: 'created_at'?

2025-05-12 09:55:08 - backend.main - INFO - 状态更新任务已取消
2025-05-12 09:55:08 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 09:55:08 - backend.i18n - INFO - 国际化设置成功
2025-05-12 09:55:09 - backend.main - INFO - 应用启动 / Application started
2025-05-12 09:55:09 - backend.database - INFO - 数据库初始化成功
2025-05-12 09:55:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:55:09.184450
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=55, 秒=9
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:55:09.184450 AND Reservation.end_datetime > 2025-05-12 09:55:09.184450
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:55:09.184450
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:55:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:55:18 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250521-8594-6
2025-05-12 09:55:18 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250521-8594-6，优先使用预约序号查询
2025-05-12 09:55:18 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250521-8594-6
2025-05-12 09:55:18 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=168, 状态=cancelled
2025-05-12 09:55:18 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=168, 状态=cancelled
2025-05-12 09:55:58 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-8594-2
2025-05-12 09:55:58 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-8594-2，优先使用预约序号查询
2025-05-12 09:55:58 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-8594-2
2025-05-12 09:55:58 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=164, 状态=in_use
2025-05-12 09:55:58 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=164, 状态=in_use
2025-05-12 09:56:04 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:56:04 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 09:56:06 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:56:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:56:09.207526
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=56, 秒=9
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:56:09.207526 AND Reservation.end_datetime > 2025-05-12 09:56:09.207526
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:56:09.207526
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:56:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:56:13 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:56:15 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:56:15 - backend.routes.reservation - INFO - 预约码 QOUB7R9F 属于循环预约，ID=26
2025-05-12 09:56:17 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250521-8594-6
2025-05-12 09:56:17 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250521-8594-6，优先使用预约序号查询
2025-05-12 09:56:17 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250521-8594-6
2025-05-12 09:56:17 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=168, 状态=cancelled
2025-05-12 09:56:17 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=168, 状态=cancelled
2025-05-12 09:56:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=QOUB7R9F, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-8594-2
2025-05-12 09:56:21 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-8594-2，优先使用预约序号查询
2025-05-12 09:56:21 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-8594-2
2025-05-12 09:56:21 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=164, 状态=in_use
2025-05-12 09:56:21 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=164, 状态=in_use
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API请求体] 取消预约请求体: {'reservation_code': None, 'user_contact': None, 'reason': None, 'lang': 'zh_CN', 'reservation_number': 'RN-20250512-8594-2', 'user_email': 'chen.chuanchao@htschools.org', 'early_return': False}
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API调用] 取消预约API: 预约码=QOUB7R9F, 用户邮箱=chen.chuanchao@htschools.org, 预约序号=RN-20250512-8594-2, 语言=zh_CN
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API参数] 预约序号参数存在: RN-20250512-8594-2
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API信息] 设备信息: ID=2, 名称=SpeakerB
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API状态] 取消预约前状态: 预约码=QOUB7R9F, ID=164, 预约序号=RN-20250512-8594-2, 状态=in_use
2025-05-12 09:56:30 - backend.routes.crud.reservation - INFO - [数据库操作] 根据预约序号取消预约: 预约码=QOUB7R9F, 预约序号=RN-20250512-8594-2
2025-05-12 09:56:30 - backend.routes.crud.reservation - INFO - [数据库操作] 找到预约数量: 1, 预约码=QOUB7R9F, 预约序号=RN-20250512-8594-2
2025-05-12 09:56:30 - backend.routes.crud.reservation - INFO - [数据库状态] 预约状态: ID=164, 预约序号=RN-20250512-8594-2, 状态=in_use, 开始时间=2025-05-12 09:42:00, 结束时间=2025-05-12 10:42:00
2025-05-12 09:56:30 - backend.routes.crud.reservation - INFO - [数据库操作] 取消预约前状态: ID=164, 预约序号=RN-20250512-8594-2, 状态=in_use
2025-05-12 09:56:30 - backend.routes.crud.reservation - INFO - [数据库操作] 已将预约状态更新为cancelled: ID=164, 预约序号=RN-20250512-8594-2
2025-05-12 09:56:30 - backend.routes.crud.reservation - INFO - [数据库验证] 验证预约状态: ID=164, 预约序号=RN-20250512-8594-2, 状态=cancelled
2025-05-12 09:56:30 - backend.routes.crud.reservation - INFO - [数据库验证] 成功更新预约状态数量: 1/1
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API结果] 取消预约结果: 成功=True, 消息=预定已取消
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API验证] 取消预约后状态: 预约码=QOUB7R9F, ID=164, 预约序号=RN-20250512-8594-2, 状态=cancelled
2025-05-12 09:56:30 - backend.utils.date_utils - ERROR - 转换为北京时间失败: 'datetime.date' object has no attribute 'tzinfo'
2025-05-12 09:56:30 - backend.utils.date_utils - ERROR - 转换为北京时间失败: 'datetime.date' object has no attribute 'tzinfo'
2025-05-12 09:56:30 - backend.routes.reservation - INFO - [API邮件] 找到父循环预约信息: ID=26, 预约码=QOUB7R9F
2025-05-12 09:56:30 - backend.utils.email_sender - INFO - [邮件发送] 类型: 循环子预约取消, 模板: reservation_recurring_cancelled, 收件人: chen.chuanchao@htschools.org, 预约码: QOUB7R9F, 预约序号: RN-20250512-8594-2, is_recurring=True, is_child=True
2025-05-12 09:56:31 - backend.utils.email_sender - INFO - 邮件发送成功: 主收件人=chen.chuanchao@htschools.org, 抄送=['chen.chuanchao@htschools.org', 'chenchuanchao73@163.com'], 密送=['chenchuanchao73@gmail.com']
2025-05-12 09:56:31 - backend.utils.email_sender - INFO - [邮件发送结果] 类型: 循环子预约取消, 收件人: chen.chuanchao@htschools.org, 结果: 成功
2025-05-12 09:56:31 - backend.routes.reservation - INFO - [API邮件] 发送循环子预约取消邮件: 收件人=chen.chuanchao@htschools.org
2025-05-12 09:56:31 - backend.routes.reservation - INFO - [API邮件] 取消确认邮件发送成功
2025-05-12 09:56:54 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:56:59 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:56:59 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:57:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:57:09.221651
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=57, 秒=9
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:57:09.221651 AND Reservation.end_datetime > 2025-05-12 09:57:09.221651
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:57:09.221651
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:57:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:57:10 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:57:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=OQQXGZT2, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:57:12 - backend.routes.reservation - INFO - 预约码 OQQXGZT2 属于循环预约，ID=24
2025-05-12 09:57:24 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:57:26 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:57:26 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 09:58:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:58:09.243945
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=58, 秒=9
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:58:09.243945 AND Reservation.end_datetime > 2025-05-12 09:58:09.243945
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:58:09.243945
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:58:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:58:19 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:58:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=OQQXGZT2, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:58:20 - backend.routes.reservation - INFO - 预约码 OQQXGZT2 属于循环预约，ID=24
2025-05-12 09:59:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 09:59:09.252263
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=9, 分=59, 秒=9
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 09:59:09.252263 AND Reservation.end_datetime > 2025-05-12 09:59:09.252263
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 09:59:09.252263
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 09:59:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 09:59:40 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 09:59:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 09:59:42 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 10:00:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:00:09.262616
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=0, 秒=9
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:00:09.262616 AND Reservation.end_datetime > 2025-05-12 10:00:09.262616
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:00:09.262616
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:00:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:01:09 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:01:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:01:09.278764
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=1, 秒=9
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:01:09.278764 AND Reservation.end_datetime > 2025-05-12 10:01:09.278764
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:01:09.278764
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:01:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:01:23 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:02:07 - backend.main - INFO - 状态更新任务已取消
2025-05-12 10:02:07 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 10:02:08 - backend.i18n - INFO - 国际化设置成功
2025-05-12 10:02:08 - backend.main - INFO - 应用启动 / Application started
2025-05-12 10:02:08 - backend.database - INFO - 数据库初始化成功
2025-05-12 10:02:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:02:08.848712
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=2, 秒=8
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:02:08.848712 AND Reservation.end_datetime > 2025-05-12 10:02:08.848712
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:02:08.848712
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:02:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:02:28 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:02:30 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:02:30 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 10:02:33 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250619-8071-19
2025-05-12 10:02:33 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250619-8071-19，优先使用预约序号查询
2025-05-12 10:02:33 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250619-8071-19
2025-05-12 10:02:33 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=158, 状态=confirmed
2025-05-12 10:02:33 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=158, 状态=confirmed
2025-05-12 10:02:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250508-8071-1
2025-05-12 10:02:39 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250508-8071-1，优先使用预约序号查询
2025-05-12 10:02:39 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250508-8071-1
2025-05-12 10:02:39 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=140, 状态=expired
2025-05-12 10:02:39 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=140, 状态=expired
2025-05-12 10:02:46 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:02:49 - backend.routes.reservation - INFO - 获取预约详情: 预约码=9UJYNLQN, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:02:49 - backend.routes.reservation - INFO - 预约码 9UJYNLQN 属于循环预约，ID=20
2025-05-12 10:02:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=9UJYNLQN, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-3288
2025-05-12 10:02:51 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-3288，优先使用预约序号查询
2025-05-12 10:02:51 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-3288
2025-05-12 10:02:51 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=82, 状态=cancelled
2025-05-12 10:02:51 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=82, 状态=cancelled
2025-05-12 10:02:55 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:02:57 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:02:57 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 10:03:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250619-8071-19
2025-05-12 10:03:03 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250619-8071-19，优先使用预约序号查询
2025-05-12 10:03:03 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250619-8071-19
2025-05-12 10:03:03 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=158, 状态=confirmed
2025-05-12 10:03:03 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=158, 状态=confirmed
2025-05-12 10:03:07 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:03:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:03:08.863997
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=3, 秒=8
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:03:08.863997 AND Reservation.end_datetime > 2025-05-12 10:03:08.863997
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:03:08.863997
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:03:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:03:19 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:03:23 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:03:30 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:03:30 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 10:03:35 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8071-4
2025-05-12 10:03:35 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8071-4，优先使用预约序号查询
2025-05-12 10:03:35 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8071-4
2025-05-12 10:03:35 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=143, 状态=confirmed
2025-05-12 10:03:35 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=143, 状态=confirmed
2025-05-12 10:04:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:04:08.881165
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=4, 秒=8
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:04:08.881165 AND Reservation.end_datetime > 2025-05-12 10:04:08.881165
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:04:08.881165
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:04:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:05:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:05:08.896166
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=5, 秒=8
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:05:08.896166 AND Reservation.end_datetime > 2025-05-12 10:05:08.896166
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:05:08.896166
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:05:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:06:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:06:08.908044
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=6, 秒=8
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:06:08.908044 AND Reservation.end_datetime > 2025-05-12 10:06:08.908044
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:06:08.908044
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:06:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:06:19 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8071-4
2025-05-12 10:06:19 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8071-4，优先使用预约序号查询
2025-05-12 10:06:19 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8071-4
2025-05-12 10:06:19 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=143, 状态=confirmed
2025-05-12 10:06:19 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=143, 状态=confirmed
2025-05-12 10:06:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8071-4
2025-05-12 10:06:31 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8071-4，优先使用预约序号查询
2025-05-12 10:06:31 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8071-4
2025-05-12 10:06:31 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=143, 状态=confirmed
2025-05-12 10:06:31 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=143, 状态=confirmed
2025-05-12 10:06:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8071-4
2025-05-12 10:06:50 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8071-4，优先使用预约序号查询
2025-05-12 10:06:50 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8071-4
2025-05-12 10:06:50 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=143, 状态=confirmed
2025-05-12 10:06:50 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=143, 状态=confirmed
2025-05-12 10:07:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8071-4
2025-05-12 10:07:04 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8071-4，优先使用预约序号查询
2025-05-12 10:07:04 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8071-4
2025-05-12 10:07:04 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=143, 状态=confirmed
2025-05-12 10:07:04 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=143, 状态=confirmed
2025-05-12 10:07:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:07:08.928299
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=7, 秒=8
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:07:08.928299 AND Reservation.end_datetime > 2025-05-12 10:07:08.928299
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:07:08.928299
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:07:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:07:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250515-8071-4
2025-05-12 10:07:31 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250515-8071-4，优先使用预约序号查询
2025-05-12 10:07:31 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250515-8071-4
2025-05-12 10:07:31 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=143, 状态=confirmed
2025-05-12 10:07:31 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=143, 状态=confirmed
2025-05-12 10:07:59 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:08:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:08:08.933090
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=8, 秒=8
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:08:08.933090 AND Reservation.end_datetime > 2025-05-12 10:08:08.933090
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:08:08.933090
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:08:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:08:11 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:09:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:09:08.949304
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=9, 秒=8
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:09:08.949304 AND Reservation.end_datetime > 2025-05-12 10:09:08.949304
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:09:08.949304
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:09:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:10:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:10:08.967667
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=10, 秒=8
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:10:08.967667 AND Reservation.end_datetime > 2025-05-12 10:10:08.967667
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:10:08.967667
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:10:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:11:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:11:08.982108
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=11, 秒=8
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:11:08.982108 AND Reservation.end_datetime > 2025-05-12 10:11:08.982108
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:11:08.982108
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:11:08 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:12:08 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:12:09.000632
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=12, 秒=9
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:12:09.000632 AND Reservation.end_datetime > 2025-05-12 10:12:09.000632
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:12:09.000632
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:12:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:12:11 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:12:15 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:12:56 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:13:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:13:09.023772
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=13, 秒=9
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:13:09.023772 AND Reservation.end_datetime > 2025-05-12 10:13:09.023772
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:13:09.023772
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:13:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:14:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:14:09.031535
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=14, 秒=9
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:14:09.031535 AND Reservation.end_datetime > 2025-05-12 10:14:09.031535
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:14:09.031535
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:14:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:14:48 - backend.utils.email_sender - INFO - 邮件发送成功: 主收件人=chen.chuanchao@htschools.org, 抄送=['chen.chuanchao@htschools.org', 'chenchuanchao73@163.com'], 密送=['chenchuanchao73@gmail.com']
2025-05-12 10:14:54 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 10:14:54 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 10:14:56 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:15:08 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:15:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:15:09.040696
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=15, 秒=9
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:15:09.040696 AND Reservation.end_datetime > 2025-05-12 10:15:09.040696
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:15:09.040696
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:15:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:15:13 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:15:13 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:15:19 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=XZBT9S2W, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 找到预约: ID=29, 状态=expired
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 成功获取预约: ID=29, 状态=expired, 开始时间=2025-04-30 10:28:00, 结束时间=2025-04-30 14:00:00, 预约序号=RN-20250430-0139
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=XZBT9S2W, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 找到预约: ID=29, 状态=expired
2025-05-12 10:15:21 - backend.routes.reservation - INFO - 成功获取预约: ID=29, 状态=expired, 开始时间=2025-04-30 10:28:00, 结束时间=2025-04-30 14:00:00, 预约序号=RN-20250430-0139
2025-05-12 10:15:25 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:16:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:16:09.056685
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=16, 秒=9
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:16:09.056685 AND Reservation.end_datetime > 2025-05-12 10:16:09.056685
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:16:09.056685
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:16:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:17:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:17:09.069388
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=17, 秒=9
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:17:09.069388 AND Reservation.end_datetime > 2025-05-12 10:17:09.069388
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:17:09.069388
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:17:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:18:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:18:09.086155
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=18, 秒=9
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:18:09.086155 AND Reservation.end_datetime > 2025-05-12 10:18:09.086155
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 找到 1 个应该更新为'使用中'的预约
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 预约ID: 173, 开始时间: 2025-05-12 10:18:00, 结束时间: 2025-05-12 11:14:00, 当前状态: confirmed
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 预约ID: 173, 当前时间与开始时间的差值(秒): 9.086155, 结束时间与当前时间的差值(秒): 3350.913845
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:18:09.086155
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 找到 1 个应该更新为'已过期'的预约
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 预约ID: 103, 开始时间: 2025-05-12 09:18:00, 结束时间: 2025-05-12 10:18:00, 当前状态: in_use
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 预约ID: 103, 结束时间与当前时间的差值(秒): -9.086155
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 执行SQL更新: 将ID在 [103] 中的预约状态更新为'已过期'
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=1条, 已过期=1条
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 已更新预约状态: 1个更新为'使用中', 1个更新为'已过期'
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - 更新后的预约状态:
2025-05-12 10:18:09 - backend.utils.status_updater - INFO - ID: 103, 预约序号: RN-20250512-7110-2, 状态: expired, 开始时间: 2025-05-12 09:18:00, 结束时间: 2025-05-12 10:18:00
2025-05-12 10:19:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:19:09.102684
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=19, 秒=9
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:19:09.102684 AND Reservation.end_datetime > 2025-05-12 10:19:09.102684
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:19:09.102684
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:19:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:20:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:20:09.111910
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=20, 秒=9
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:20:09.111910 AND Reservation.end_datetime > 2025-05-12 10:20:09.111910
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:20:09.111910
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:20:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:20:56 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:20:58 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:20:58 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:21:00 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:21:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:21:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:21:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:21:09.122677
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=21, 秒=9
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:21:09.122677 AND Reservation.end_datetime > 2025-05-12 10:21:09.122677
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:21:09.122677
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:21:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:21:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:21:10 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:21:10 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:21:10 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:21:10 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:22:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:22:09.137587
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=22, 秒=9
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:22:09.137587 AND Reservation.end_datetime > 2025-05-12 10:22:09.137587
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:22:09.137587
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:22:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:23:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:23:09.148355
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=23, 秒=9
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:23:09.148355 AND Reservation.end_datetime > 2025-05-12 10:23:09.148355
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:23:09.148355
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:23:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:23:12 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:23:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZUUT603Z, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:23:12 - backend.routes.reservation - INFO - 预约码 ZUUT603Z 属于循环预约，ID=21
2025-05-12 10:23:25 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250512-6087-1
2025-05-12 10:23:25 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=173, 状态=in_use, 预约序号=RN-20250512-6087-1
2025-05-12 10:23:25 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=173, 状态=in_use, 开始时间=2025-05-12 10:18:00, 结束时间=2025-05-12 11:14:00, 预约序号=RN-20250512-6087-1
2025-05-12 10:23:28 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250512-6087-1
2025-05-12 10:23:28 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=173, 状态=in_use, 预约序号=RN-20250512-6087-1
2025-05-12 10:23:28 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=173, 状态=in_use, 开始时间=2025-05-12 10:18:00, 结束时间=2025-05-12 11:14:00, 预约序号=RN-20250512-6087-1
2025-05-12 10:23:29 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250514-6087-2
2025-05-12 10:23:29 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=174, 状态=confirmed, 预约序号=RN-20250514-6087-2
2025-05-12 10:23:29 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=174, 状态=confirmed, 开始时间=2025-05-14 10:18:00, 结束时间=2025-05-14 11:14:00, 预约序号=RN-20250514-6087-2
2025-05-12 10:23:30 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250514-6087-2
2025-05-12 10:23:30 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=174, 状态=confirmed, 预约序号=RN-20250514-6087-2
2025-05-12 10:23:30 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=174, 状态=confirmed, 开始时间=2025-05-14 10:18:00, 结束时间=2025-05-14 11:14:00, 预约序号=RN-20250514-6087-2
2025-05-12 10:23:34 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:23:39 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:23:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZUUT603Z, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:23:39 - backend.routes.reservation - INFO - 预约码 ZUUT603Z 属于循环预约，ID=21
2025-05-12 10:23:48 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:23:48 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZUUT603Z, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:23:48 - backend.routes.reservation - INFO - 预约码 ZUUT603Z 属于循环预约，ID=21
2025-05-12 10:23:59 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:24:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:02 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:05 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 10:24:05 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 10:24:05 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 10:24:05 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=in_use
2025-05-12 10:24:05 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=in_use
2025-05-12 10:24:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:24:09.164967
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=24, 秒=9
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:24:09.164967 AND Reservation.end_datetime > 2025-05-12 10:24:09.164967
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:24:09.164967
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:24:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:24:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:09 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:10 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:11 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:11 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:14 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:14 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:14 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:14 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:15 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:15 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:15 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:15 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:15 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:15 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:17 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:17 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:19 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:19 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:20 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:20 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 10:24:39 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:24:42 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:24:43 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:24:44 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:25:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:25:09.173327
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=25, 秒=9
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:25:09.173327 AND Reservation.end_datetime > 2025-05-12 10:25:09.173327
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:25:09.173327
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:25:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 10:25:27 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 10:25:35 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:25:39 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:25:41 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:25:41 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:25:42 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:26:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:26:09.178254
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=26, 秒=9
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:26:09.178254 AND Reservation.end_datetime > 2025-05-12 10:26:09.178254
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:26:09.178254
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:26:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:26:32 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:26:45 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:27:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:27:09.186643
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=27, 秒=9
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:27:09.186643 AND Reservation.end_datetime > 2025-05-12 10:27:09.186643
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:27:09.186643
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:27:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:27:12 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:27:27 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:27:48 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:28:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:28:09.207053
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=28, 秒=9
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:28:09.207053 AND Reservation.end_datetime > 2025-05-12 10:28:09.207053
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:28:09.207053
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:28:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:29:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:29:09.225197
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=29, 秒=9
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:29:09.225197 AND Reservation.end_datetime > 2025-05-12 10:29:09.225197
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:29:09.225197
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:29:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:30:00 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:30:08 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:30:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:30:09.236295
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=30, 秒=9
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:30:09.236295 AND Reservation.end_datetime > 2025-05-12 10:30:09.236295
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:30:09.236295
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:30:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:30:11 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:30:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:12 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:30:13 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:30:15 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:30:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:24 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:30:27 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:30:27 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:30:27 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:30:27 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:30:27 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:30:28 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:28 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:30:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:42 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:30:43 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:43 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:30:44 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:44 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:30:49 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:49 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:30:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:30:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:31:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:31:09.242629
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=31, 秒=9
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:31:09.242629 AND Reservation.end_datetime > 2025-05-12 10:31:09.242629
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:31:09.242629
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:31:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:31:20 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:31:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:31:22 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:31:23 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:31:28 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:32:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:32:09.257295
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=32, 秒=9
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:32:09.257295 AND Reservation.end_datetime > 2025-05-12 10:32:09.257295
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:32:09.257295
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:32:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:32:37 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:33:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:33:02 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:33:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:33:09.269574
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=33, 秒=9
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:33:09.269574 AND Reservation.end_datetime > 2025-05-12 10:33:09.269574
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:33:09.269574
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:33:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:33:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:33:12 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:33:40 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:33:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:33:47 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:33:53 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:34:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:34:09.284956
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=34, 秒=9
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:34:09.284956 AND Reservation.end_datetime > 2025-05-12 10:34:09.284956
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 找到 1 个应该更新为'使用中'的预约
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 预约ID: 141, 开始时间: 2025-05-12 10:34:00, 结束时间: 2025-05-12 11:34:00, 当前状态: confirmed
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 预约ID: 141, 当前时间与开始时间的差值(秒): 9.284956, 结束时间与当前时间的差值(秒): 3590.715044
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:34:09.284956
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=1条, 已过期=0条
2025-05-12 10:34:09 - backend.utils.status_updater - INFO - 已更新预约状态: 1个更新为'使用中', 0个更新为'已过期'
2025-05-12 10:34:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:34:22 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:34:33 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:34:33 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:35:03 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:35:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:35:09.296507
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=35, 秒=9
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:35:09.296507 AND Reservation.end_datetime > 2025-05-12 10:35:09.296507
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:35:09.296507
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:35:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:35:24 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:35:36 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:35:50 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:36:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:36:09.311654
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=36, 秒=9
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:36:09.311654 AND Reservation.end_datetime > 2025-05-12 10:36:09.311654
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:36:09.311654
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:36:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:36:27 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:37:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:37:09.316643
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=37, 秒=9
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:37:09.316643 AND Reservation.end_datetime > 2025-05-12 10:37:09.316643
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:37:09.316643
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:37:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:37:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:37:21 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:37:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:37:22 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:37:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:37:23 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:37:26 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:37:26 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:37:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:37:31 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:37:33 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:37:33 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:37:49 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:37:57 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:37:59 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:00 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:03 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:05 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:05 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:05 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:05 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:07 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:08 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:38:09.329487
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=38, 秒=9
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:38:09.329487 AND Reservation.end_datetime > 2025-05-12 10:38:09.329487
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:38:09.329487
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:38:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:10 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:10 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:26 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:26 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:26 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:26 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:27 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:27 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:31 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:32 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:32 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:33 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=9F3DDDHN, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 找到预约: ID=10, 状态=expired
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 成功获取预约: ID=10, 状态=expired, 开始时间=2025-04-27 16:27:00, 结束时间=2025-04-28 00:00:00, 预约序号=RN-20250428-1294
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=9F3DDDHN, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 找到预约: ID=10, 状态=expired
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 成功获取预约: ID=10, 状态=expired, 开始时间=2025-04-27 16:27:00, 结束时间=2025-04-28 00:00:00, 预约序号=RN-20250428-1294
2025-05-12 10:38:36 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=6QIHBS7K, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 找到预约: ID=6, 状态=expired
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 成功获取预约: ID=6, 状态=expired, 开始时间=2025-04-25 14:40:00, 结束时间=2025-04-25 15:00:00, 预约序号=RN-20250428-1290
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=6QIHBS7K, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 找到预约: ID=6, 状态=expired
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 成功获取预约: ID=6, 状态=expired, 开始时间=2025-04-25 14:40:00, 结束时间=2025-04-25 15:00:00, 预约序号=RN-20250428-1290
2025-05-12 10:38:39 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:42 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:45 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:47 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:38:50 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:38:58 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:38:58 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:00 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1045
2025-05-12 10:39:00 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1045，优先使用预约序号查询
2025-05-12 10:39:00 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1045
2025-05-12 10:39:00 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=101, 状态=confirmed
2025-05-12 10:39:00 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=101, 状态=confirmed
2025-05-12 10:39:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:02 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:02 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:03 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:03 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:04 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:08 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:39:08 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:39:08 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:39:08 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:39:08 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:39:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:39:09.347255
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=39, 秒=9
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:39:09.347255 AND Reservation.end_datetime > 2025-05-12 10:39:09.347255
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:39:09.347255
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:39:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:39:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:10 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:10 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:10 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:16 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:39:16 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZUUT603Z, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:16 - backend.routes.reservation - INFO - 预约码 ZUUT603Z 属于循环预约，ID=21
2025-05-12 10:39:20 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:39:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:22 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:23 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:39:25 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:25 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:26 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:39:30 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:30 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:31 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:31 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:35 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:39:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:36 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:37 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:39:37 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:39:37 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:39:37 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:39:37 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:39:38 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:38 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:39 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:39:40 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:39:40 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:40:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:40:09.358854
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=40, 秒=9
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:40:09.358854 AND Reservation.end_datetime > 2025-05-12 10:40:09.358854
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:40:09.358854
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:40:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:41:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:41:09.376798
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=41, 秒=9
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:41:09.376798 AND Reservation.end_datetime > 2025-05-12 10:41:09.376798
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:41:09.376798
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:41:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:41:09 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:41:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:41:36 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:41:43 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:41:43 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:42:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:42:09.396181
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=42, 秒=9
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:42:09.396181 AND Reservation.end_datetime > 2025-05-12 10:42:09.396181
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:42:09.396181
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:42:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:42:16 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:42:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:42:23 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:42:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:42:31 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:42:31 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:42:31 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:42:31 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:42:43 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:42:43 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:42:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:42:50 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:43:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:43:09.413885
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=43, 秒=9
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:43:09.413885 AND Reservation.end_datetime > 2025-05-12 10:43:09.413885
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:43:09.413885
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:43:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:44:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:44:09.431305
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=44, 秒=9
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:44:09.431305 AND Reservation.end_datetime > 2025-05-12 10:44:09.431305
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:44:09.431305
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:44:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:45:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:45:09.447288
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=45, 秒=9
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:45:09.447288 AND Reservation.end_datetime > 2025-05-12 10:45:09.447288
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:45:09.447288
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:45:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:46:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:46:09.470232
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=46, 秒=9
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:46:09.470232 AND Reservation.end_datetime > 2025-05-12 10:46:09.470232
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:46:09.470232
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:46:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:47:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:47:09.486095
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=47, 秒=9
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:47:09.486095 AND Reservation.end_datetime > 2025-05-12 10:47:09.486095
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:47:09.486095
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:47:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:47:56 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:47:56 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:00 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:00 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:02 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:03 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:48:04 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:48:04 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:48:04 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:48:04 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:48:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:48:09.494417
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=48, 秒=9
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:48:09.494417 AND Reservation.end_datetime > 2025-05-12 10:48:09.494417
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:48:09.494417
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:48:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:48:10 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:48:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:12 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:13 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:48:14 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:14 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:16 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:48:16 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:48:16 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:48:16 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:48:16 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:48:17 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:17 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:18 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:18 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:48:18 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:48:18 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:49:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:49:09.509319
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=49, 秒=9
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:49:09.509319 AND Reservation.end_datetime > 2025-05-12 10:49:09.509319
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:49:09.509319
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:49:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:49:49 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:50:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:50:09.517131
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=50, 秒=9
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:50:09.517131 AND Reservation.end_datetime > 2025-05-12 10:50:09.517131
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:50:09.517131
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:50:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:50:14 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:50:14 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:50:27 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:50:27 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:51:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:51:09.535667
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=51, 秒=9
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:51:09.535667 AND Reservation.end_datetime > 2025-05-12 10:51:09.535667
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:51:09.535667
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:51:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:52:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:52:09.550140
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=52, 秒=9
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:52:09.550140 AND Reservation.end_datetime > 2025-05-12 10:52:09.550140
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:52:09.550140
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:52:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:52:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:52:10 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:52:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:52:21 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:53:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:53:09.560811
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=53, 秒=9
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:53:09.560811 AND Reservation.end_datetime > 2025-05-12 10:53:09.560811
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:53:09.560811
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:53:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:53:46 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:53:46 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:53:57 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:53:57 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:54:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:54:09.567571
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=54, 秒=9
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:54:09.567571 AND Reservation.end_datetime > 2025-05-12 10:54:09.567571
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:54:09.567571
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:54:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:55:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:55:09.585966
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=55, 秒=9
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:55:09.585966 AND Reservation.end_datetime > 2025-05-12 10:55:09.585966
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:55:09.585966
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:55:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:55:34 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:55:34 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:55:45 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:55:45 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:56:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:56:09.604189
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=56, 秒=9
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:56:09.604189 AND Reservation.end_datetime > 2025-05-12 10:56:09.604189
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:56:09.604189
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:56:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:56:40 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:56:40 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:56:41 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:56:41 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:57:06 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:57:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:57:09.620589
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=57, 秒=9
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:57:09.620589 AND Reservation.end_datetime > 2025-05-12 10:57:09.620589
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:57:09.620589
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:57:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:57:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:57:21 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:57:21 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:57:21 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:57:21 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:58:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:58:06 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:58:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:58:09.635055
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=58, 秒=9
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:58:09.635055 AND Reservation.end_datetime > 2025-05-12 10:58:09.635055
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:58:09.635055
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:58:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:58:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:58:12 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:58:19 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:58:19 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:58:40 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:58:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:58:47 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:58:59 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:59:09 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:09 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 10:59:09.655302
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=10, 分=59, 秒=9
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 10:59:09.655302 AND Reservation.end_datetime > 2025-05-12 10:59:09.655302
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 10:59:09.655302
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 10:59:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 10:59:15 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1045
2025-05-12 10:59:15 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1045，优先使用预约序号查询
2025-05-12 10:59:15 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1045
2025-05-12 10:59:15 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=101, 状态=confirmed
2025-05-12 10:59:15 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=101, 状态=confirmed
2025-05-12 10:59:30 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:30 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:31 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:32 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:40 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:59:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:42 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:43 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 10:59:45 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:45 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:49 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 10:59:49 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 10:59:49 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 10:59:49 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 10:59:49 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 10:59:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:50 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 10:59:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:00:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:00:09.675449
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=0, 秒=9
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:00:09.675449 AND Reservation.end_datetime > 2025-05-12 11:00:09.675449
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:00:09.675449
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:00:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:01:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:01:09.697685
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=1, 秒=9
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:01:09.697685 AND Reservation.end_datetime > 2025-05-12 11:01:09.697685
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:01:09.697685
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:01:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:02:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:02:09.708517
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=2, 秒=9
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:02:09.708517 AND Reservation.end_datetime > 2025-05-12 11:02:09.708517
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:02:09.708517
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:02:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:03:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:03:09.720789
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=3, 秒=9
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:03:09.720789 AND Reservation.end_datetime > 2025-05-12 11:03:09.720789
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:03:09.720789
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:03:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:04:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:04:09.736098
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=4, 秒=9
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:04:09.736098 AND Reservation.end_datetime > 2025-05-12 11:04:09.736098
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:04:09.736098
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:04:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:05:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:05:09.741578
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=5, 秒=9
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:05:09.741578 AND Reservation.end_datetime > 2025-05-12 11:05:09.741578
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:05:09.741578
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:05:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:06:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:06:09.758587
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=6, 秒=9
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:06:09.758587 AND Reservation.end_datetime > 2025-05-12 11:06:09.758587
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:06:09.758587
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:06:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:06:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:06:20 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:06:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:06:36 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:07:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:07:09.773250
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=7, 秒=9
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:07:09.773250 AND Reservation.end_datetime > 2025-05-12 11:07:09.773250
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:07:09.773250
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:07:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:08:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:08:09.790190
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=8, 秒=9
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:08:09.790190 AND Reservation.end_datetime > 2025-05-12 11:08:09.790190
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:08:09.790190
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:08:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:08:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:08:50 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:08:58 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:08:58 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:09:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:09:09.810266
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=9, 秒=9
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:09:09.810266 AND Reservation.end_datetime > 2025-05-12 11:09:09.810266
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:09:09.810266
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:09:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:10:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:10:09.826775
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=10, 秒=9
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:10:09.826775 AND Reservation.end_datetime > 2025-05-12 11:10:09.826775
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:10:09.826775
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:10:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:10:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:10:24 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:10:34 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:10:34 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:11:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:11:09.841474
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=11, 秒=9
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:11:09.841474 AND Reservation.end_datetime > 2025-05-12 11:11:09.841474
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:11:09.841474
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:11:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:12:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:12:09.845874
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=12, 秒=9
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:12:09.845874 AND Reservation.end_datetime > 2025-05-12 11:12:09.845874
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:12:09.845874
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:12:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:12:12 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:12:12 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:12:25 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:12:25 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:12:35 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:12:35 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:12:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:12:50 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:12:51 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:12:51 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:12:53 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:12:53 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:12:53 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:12:53 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:12:53 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:12:55 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:12:55 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:13:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:13:09.861849
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=13, 秒=9
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:13:09.861849 AND Reservation.end_datetime > 2025-05-12 11:13:09.861849
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:13:09.861849
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:13:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:13:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:13:39 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:14:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:14:09.867331
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=14, 秒=9
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:14:09.867331 AND Reservation.end_datetime > 2025-05-12 11:14:09.867331
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:14:09.867331
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 找到 1 个应该更新为'已过期'的预约
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 预约ID: 173, 开始时间: 2025-05-12 10:18:00, 结束时间: 2025-05-12 11:14:00, 当前状态: in_use
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 预约ID: 173, 结束时间与当前时间的差值(秒): -9.867331
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 执行SQL更新: 将ID在 [173] 中的预约状态更新为'已过期'
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=1条
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 已更新预约状态: 0个更新为'使用中', 1个更新为'已过期'
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - 更新后的预约状态:
2025-05-12 11:14:09 - backend.utils.status_updater - INFO - ID: 173, 预约序号: RN-20250512-6087-1, 状态: expired, 开始时间: 2025-05-12 10:18:00, 结束时间: 2025-05-12 11:14:00
2025-05-12 11:15:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:15:09.877403
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=15, 秒=9
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:15:09.877403 AND Reservation.end_datetime > 2025-05-12 11:15:09.877403
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:15:09.877403
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:15:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:15:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:15:47 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:16:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:16:09.882783
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=16, 秒=9
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:16:09.882783 AND Reservation.end_datetime > 2025-05-12 11:16:09.882783
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:16:09.882783
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:16:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:16:36 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:16:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:16:50 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:17:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:17:09.896825
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=17, 秒=9
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:17:09.896825 AND Reservation.end_datetime > 2025-05-12 11:17:09.896825
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:17:09.896825
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:17:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:17:31 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:17:31 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:17:37 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:17:37 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:17:38 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:17:38 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:17:38 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:17:38 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:17:38 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:17:51 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:18:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:18:09.909601
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=18, 秒=9
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:18:09.909601 AND Reservation.end_datetime > 2025-05-12 11:18:09.909601
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:18:09.909601
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:18:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:19:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:19:09.923015
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=19, 秒=9
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:19:09.923015 AND Reservation.end_datetime > 2025-05-12 11:19:09.923015
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:19:09.923015
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:19:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:20:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:20:09.940483
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=20, 秒=9
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:20:09.940483 AND Reservation.end_datetime > 2025-05-12 11:20:09.940483
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:20:09.940483
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:20:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:21:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:21:09.945616
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=21, 秒=9
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:21:09.945616 AND Reservation.end_datetime > 2025-05-12 11:21:09.945616
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:21:09.945616
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:21:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:21:54 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:21:54 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:22:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:22:06 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:22:06 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:22:06 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:22:06 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:22:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:22:09.965224
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=22, 秒=9
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:22:09.965224 AND Reservation.end_datetime > 2025-05-12 11:22:09.965224
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:22:09.965224
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:22:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:22:40 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:22:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:22:42 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:22:44 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:22:44 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:22:44 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:22:44 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:22:44 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:22:52 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:22:52 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:22:52 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:22:52 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:22:52 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:23:00 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:23:00 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:23:00 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:23:00 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:23:00 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:23:05 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:23:05 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:23:05 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:23:05 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:23:05 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:23:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:23:09.983637
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=23, 秒=9
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:23:09.983637 AND Reservation.end_datetime > 2025-05-12 11:23:09.983637
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:23:09.983637
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:23:09 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:23:50 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:23:53 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:23:53 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:23:53 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:23:53 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:23:53 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:23:55 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:24:02 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1045
2025-05-12 11:24:02 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1045，优先使用预约序号查询
2025-05-12 11:24:02 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1045
2025-05-12 11:24:02 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=101, 状态=confirmed
2025-05-12 11:24:02 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=101, 状态=confirmed
2025-05-12 11:24:05 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:24:09 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:24:09 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:24:09.997328
2025-05-12 11:24:09 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=24, 秒=9
2025-05-12 11:24:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:24:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:24:09.997328 AND Reservation.end_datetime > 2025-05-12 11:24:09.997328
2025-05-12 11:24:09 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:24:09 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:24:09 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:24:09.997328
2025-05-12 11:24:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:24:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:24:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:24:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1045
2025-05-12 11:24:23 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1045，优先使用预约序号查询
2025-05-12 11:24:23 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1045
2025-05-12 11:24:23 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=101, 状态=confirmed
2025-05-12 11:24:23 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=101, 状态=confirmed
2025-05-12 11:24:29 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:24:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:24:36 - backend.routes.reservation - INFO - 预约码 ZFEXH6FR 属于循环预约，ID=22
2025-05-12 11:24:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1044
2025-05-12 11:24:42 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1044，优先使用预约序号查询
2025-05-12 11:24:42 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1044
2025-05-12 11:24:42 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=91, 状态=cancelled
2025-05-12 11:24:42 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=91, 状态=cancelled
2025-05-12 11:25:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:25:10.014670
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=25, 秒=10
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:25:10.014670 AND Reservation.end_datetime > 2025-05-12 11:25:10.014670
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:25:10.014670
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:25:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:25:18 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 11:25:18 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 11:25:39 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 11:25:39 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 11:25:43 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250516-6087-3
2025-05-12 11:25:43 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=175, 状态=confirmed, 预约序号=RN-20250516-6087-3
2025-05-12 11:25:43 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=175, 状态=confirmed, 开始时间=2025-05-16 10:18:00, 结束时间=2025-05-16 11:14:00, 预约序号=RN-20250516-6087-3
2025-05-12 11:25:50 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250516-6087-3
2025-05-12 11:25:50 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=175, 状态=confirmed, 预约序号=RN-20250516-6087-3
2025-05-12 11:25:50 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=175, 状态=confirmed, 开始时间=2025-05-16 10:18:00, 结束时间=2025-05-16 11:14:00, 预约序号=RN-20250516-6087-3
2025-05-12 11:25:50 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 11:25:52 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250509-2807
2025-05-12 11:25:52 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=172, 状态=cancelled, 预约序号=RN-20250509-2807
2025-05-12 11:25:52 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:25:56 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250509-2807
2025-05-12 11:25:56 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=172, 状态=cancelled, 预约序号=RN-20250509-2807
2025-05-12 11:25:56 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:25:56 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 11:26:01 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250516-2781-2
2025-05-12 11:26:01 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=170, 状态=confirmed, 预约序号=RN-20250516-2781-2
2025-05-12 11:26:01 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 11:26:03 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250516-2781-2
2025-05-12 11:26:03 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=170, 状态=confirmed, 预约序号=RN-20250516-2781-2
2025-05-12 11:26:03 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=170, 状态=confirmed, 开始时间=2025-05-16 22:59:00, 结束时间=2025-05-16 23:52:00, 预约序号=RN-20250516-2781-2
2025-05-12 11:26:03 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 11:26:06 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:26:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:26:10.019331
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=26, 秒=10
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:26:10.019331 AND Reservation.end_datetime > 2025-05-12 11:26:10.019331
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:26:10.019331
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:26:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:26:13 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:26:15 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:15 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:15 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:15 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:15 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:16 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:16 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:16 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:16 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:16 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:20 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:21 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:22 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:23 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:24 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:26:25 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:27:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:27:10.032662
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=27, 秒=10
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:27:10.032662 AND Reservation.end_datetime > 2025-05-12 11:27:10.032662
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:27:10.032662
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:27:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:27:22 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:27:28 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:28:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:28:10.041711
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=28, 秒=10
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:28:10.041711 AND Reservation.end_datetime > 2025-05-12 11:28:10.041711
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:28:10.041711
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:28:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:28:33 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:28:33 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:28:33 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:28:33 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:28:33 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:29:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:29:10.049200
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=29, 秒=10
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:29:10.049200 AND Reservation.end_datetime > 2025-05-12 11:29:10.049200
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:29:10.049200
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:29:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:29:29 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:29:38 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:30:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:30:10.054547
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=30, 秒=10
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:30:10.054547 AND Reservation.end_datetime > 2025-05-12 11:30:10.054547
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:30:10.054547
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:30:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:30:35 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:30:42 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:30:58 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:30:58 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:30:58 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:30:58 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:30:58 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:31:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:31:10.071329
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=31, 秒=10
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:31:10.071329 AND Reservation.end_datetime > 2025-05-12 11:31:10.071329
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:31:10.071329
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:31:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 11:31:47 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 11:32:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:32:10.084732
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=32, 秒=10
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:32:10.084732 AND Reservation.end_datetime > 2025-05-12 11:32:10.084732
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:32:10.084732
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:32:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:32:13 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 11:32:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=ZFEXH6FR, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1045
2025-05-12 11:32:20 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1045，优先使用预约序号查询
2025-05-12 11:32:20 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1045
2025-05-12 11:32:20 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=101, 状态=confirmed
2025-05-12 11:32:20 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=101, 状态=confirmed
2025-05-12 11:33:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:33:10.094137
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=33, 秒=10
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:33:10.094137 AND Reservation.end_datetime > 2025-05-12 11:33:10.094137
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:33:10.094137
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:33:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:34:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:34:10.113408
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=34, 秒=10
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:34:10.113408 AND Reservation.end_datetime > 2025-05-12 11:34:10.113408
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:34:10.113408
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 找到 1 个应该更新为'已过期'的预约
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 预约ID: 141, 开始时间: 2025-05-12 10:34:00, 结束时间: 2025-05-12 11:34:00, 当前状态: in_use
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 预约ID: 141, 结束时间与当前时间的差值(秒): -10.113408
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 执行SQL更新: 将ID在 [141] 中的预约状态更新为'已过期'
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=1条
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 已更新预约状态: 0个更新为'使用中', 1个更新为'已过期'
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - 更新后的预约状态:
2025-05-12 11:34:10 - backend.utils.status_updater - INFO - ID: 141, 预约序号: RN-20250512-8071-2, 状态: expired, 开始时间: 2025-05-12 10:34:00, 结束时间: 2025-05-12 11:34:00
2025-05-12 11:35:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:35:10.142598
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=35, 秒=10
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:35:10.142598 AND Reservation.end_datetime > 2025-05-12 11:35:10.142598
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:35:10.142598
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:35:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:36:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:36:10.148292
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=36, 秒=10
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:36:10.148292 AND Reservation.end_datetime > 2025-05-12 11:36:10.148292
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:36:10.148292
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:36:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:37:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:37:10.156222
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=37, 秒=10
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:37:10.156222 AND Reservation.end_datetime > 2025-05-12 11:37:10.156222
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:37:10.156222
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:37:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:38:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:38:10.175739
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=38, 秒=10
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:38:10.175739 AND Reservation.end_datetime > 2025-05-12 11:38:10.175739
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:38:10.175739
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:38:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:39:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:39:10.183991
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=39, 秒=10
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:39:10.183991 AND Reservation.end_datetime > 2025-05-12 11:39:10.183991
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:39:10.183991
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:39:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:40:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:40:10.209713
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=40, 秒=10
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:40:10.209713 AND Reservation.end_datetime > 2025-05-12 11:40:10.209713
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:40:10.209713
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:40:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:41:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:41:10.232236
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=41, 秒=10
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:41:10.232236 AND Reservation.end_datetime > 2025-05-12 11:41:10.232236
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:41:10.232236
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:41:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:42:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:42:10.251810
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=42, 秒=10
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:42:10.251810 AND Reservation.end_datetime > 2025-05-12 11:42:10.251810
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:42:10.251810
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:42:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:43:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:43:10.265203
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=43, 秒=10
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:43:10.265203 AND Reservation.end_datetime > 2025-05-12 11:43:10.265203
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:43:10.265203
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:43:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:44:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:44:10.289244
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=44, 秒=10
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:44:10.289244 AND Reservation.end_datetime > 2025-05-12 11:44:10.289244
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:44:10.289244
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:44:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:45:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:45:10.294227
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=45, 秒=10
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:45:10.294227 AND Reservation.end_datetime > 2025-05-12 11:45:10.294227
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:45:10.294227
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:45:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:46:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:46:10.309692
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=46, 秒=10
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:46:10.309692 AND Reservation.end_datetime > 2025-05-12 11:46:10.309692
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:46:10.309692
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:46:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:47:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:47:10.332269
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=47, 秒=10
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:47:10.332269 AND Reservation.end_datetime > 2025-05-12 11:47:10.332269
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:47:10.332269
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:47:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:48:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:48:10.341482
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=48, 秒=10
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:48:10.341482 AND Reservation.end_datetime > 2025-05-12 11:48:10.341482
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:48:10.341482
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:48:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:49:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:49:10.363396
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=49, 秒=10
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:49:10.363396 AND Reservation.end_datetime > 2025-05-12 11:49:10.363396
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:49:10.363396
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:49:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:50:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:50:10.383787
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=50, 秒=10
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:50:10.383787 AND Reservation.end_datetime > 2025-05-12 11:50:10.383787
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:50:10.383787
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:50:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:51:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:51:10.400763
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=51, 秒=10
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:51:10.400763 AND Reservation.end_datetime > 2025-05-12 11:51:10.400763
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:51:10.400763
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:51:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:52:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:52:10.418193
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=52, 秒=10
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:52:10.418193 AND Reservation.end_datetime > 2025-05-12 11:52:10.418193
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:52:10.418193
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:52:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:53:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:53:10.424004
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=53, 秒=10
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:53:10.424004 AND Reservation.end_datetime > 2025-05-12 11:53:10.424004
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:53:10.424004
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:53:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:54:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:54:10.442688
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=54, 秒=10
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:54:10.442688 AND Reservation.end_datetime > 2025-05-12 11:54:10.442688
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:54:10.442688
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:54:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:55:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:55:10.460475
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=55, 秒=10
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:55:10.460475 AND Reservation.end_datetime > 2025-05-12 11:55:10.460475
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:55:10.460475
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:55:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:56:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:56:10.477182
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=56, 秒=10
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:56:10.477182 AND Reservation.end_datetime > 2025-05-12 11:56:10.477182
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:56:10.477182
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:56:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:57:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:57:10.493076
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=57, 秒=10
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:57:10.493076 AND Reservation.end_datetime > 2025-05-12 11:57:10.493076
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:57:10.493076
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:57:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:58:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:58:10.503216
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=58, 秒=10
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:58:10.503216 AND Reservation.end_datetime > 2025-05-12 11:58:10.503216
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:58:10.503216
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:58:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 11:59:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 11:59:10.530776
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=11, 分=59, 秒=10
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 11:59:10.530776 AND Reservation.end_datetime > 2025-05-12 11:59:10.530776
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 11:59:10.530776
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 11:59:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:00:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:00:10.545685
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=0, 秒=10
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:00:10.545685 AND Reservation.end_datetime > 2025-05-12 12:00:10.545685
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:00:10.545685
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:00:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:01:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:01:10.555599
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=1, 秒=10
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:01:10.555599 AND Reservation.end_datetime > 2025-05-12 12:01:10.555599
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:01:10.555599
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:01:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:02:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:02:10.568956
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=2, 秒=10
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:02:10.568956 AND Reservation.end_datetime > 2025-05-12 12:02:10.568956
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:02:10.568956
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:02:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:03:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:03:10.573989
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=3, 秒=10
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:03:10.573989 AND Reservation.end_datetime > 2025-05-12 12:03:10.573989
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:03:10.573989
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:03:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:04:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:04:10.581023
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=4, 秒=10
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:04:10.581023 AND Reservation.end_datetime > 2025-05-12 12:04:10.581023
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:04:10.581023
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:04:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:05:01 - backend.routes.reservation - INFO - 获取预约详情: 预约码=s17e45, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:05:01 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 12:05:01 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 12:05:01 - backend.routes.reservation - WARNING - 未找到与预约码匹配的预约: s17e45
2025-05-12 12:05:05 - backend.routes.reservation - INFO - 获取预约详情: 预约码=S17E45, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:05:05 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 12:05:05 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 12:05:05 - backend.routes.reservation - WARNING - 未找到与预约码匹配的预约: S17E45
2025-05-12 12:05:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=S17E45, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:05:06 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 12:05:06 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 12:05:06 - backend.routes.reservation - WARNING - 未找到与预约码匹配的预约: S17E45
2025-05-12 12:05:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:05:10.597075
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=5, 秒=10
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:05:10.597075 AND Reservation.end_datetime > 2025-05-12 12:05:10.597075
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:05:10.597075
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:05:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:05:17 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 12:05:20 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 12:06:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:06:10.601390
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=6, 秒=10
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:06:10.601390 AND Reservation.end_datetime > 2025-05-12 12:06:10.601390
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:06:10.601390
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:06:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:07:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:07:10.613934
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=7, 秒=10
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:07:10.613934 AND Reservation.end_datetime > 2025-05-12 12:07:10.613934
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:07:10.613934
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:07:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:08:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:08:10.623419
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=8, 秒=10
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:08:10.623419 AND Reservation.end_datetime > 2025-05-12 12:08:10.623419
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:08:10.623419
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:08:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:09:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:09:10.642387
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=9, 秒=10
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:09:10.642387 AND Reservation.end_datetime > 2025-05-12 12:09:10.642387
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:09:10.642387
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:09:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:10:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:10:10.653099
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=10, 秒=10
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:10:10.653099 AND Reservation.end_datetime > 2025-05-12 12:10:10.653099
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:10:10.653099
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:10:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:11:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:11:10.665240
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=11, 秒=10
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:11:10.665240 AND Reservation.end_datetime > 2025-05-12 12:11:10.665240
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:11:10.665240
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:11:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:12:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:12:10.682424
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=12, 秒=10
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:12:10.682424 AND Reservation.end_datetime > 2025-05-12 12:12:10.682424
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:12:10.682424
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:12:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:13:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:13:10.694704
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=13, 秒=10
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:13:10.694704 AND Reservation.end_datetime > 2025-05-12 12:13:10.694704
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:13:10.694704
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:13:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:14:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:14:10.713225
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=14, 秒=10
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:14:10.713225 AND Reservation.end_datetime > 2025-05-12 12:14:10.713225
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:14:10.713225
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:14:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:15:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:15:10.735248
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=15, 秒=10
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:15:10.735248 AND Reservation.end_datetime > 2025-05-12 12:15:10.735248
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:15:10.735248
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:15:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:16:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:16:10.739077
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=16, 秒=10
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:16:10.739077 AND Reservation.end_datetime > 2025-05-12 12:16:10.739077
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:16:10.739077
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:16:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:17:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:17:10.756462
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=17, 秒=10
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:17:10.756462 AND Reservation.end_datetime > 2025-05-12 12:17:10.756462
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:17:10.756462
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:17:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:18:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:18:10.769816
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=18, 秒=10
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:18:10.769816 AND Reservation.end_datetime > 2025-05-12 12:18:10.769816
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:18:10.769816
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:18:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:19:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:19:10.788349
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=19, 秒=10
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:19:10.788349 AND Reservation.end_datetime > 2025-05-12 12:19:10.788349
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:19:10.788349
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:19:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:20:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:20:10.810324
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=20, 秒=10
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:20:10.810324 AND Reservation.end_datetime > 2025-05-12 12:20:10.810324
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:20:10.810324
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:20:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:21:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:21:10.815166
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=21, 秒=10
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:21:10.815166 AND Reservation.end_datetime > 2025-05-12 12:21:10.815166
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:21:10.815166
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:21:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:22:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:22:10.823394
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=22, 秒=10
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:22:10.823394 AND Reservation.end_datetime > 2025-05-12 12:22:10.823394
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:22:10.823394
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:22:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:23:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:23:10.833618
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=23, 秒=10
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:23:10.833618 AND Reservation.end_datetime > 2025-05-12 12:23:10.833618
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:23:10.833618
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:23:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:24:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:24:10.847081
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=24, 秒=10
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:24:10.847081 AND Reservation.end_datetime > 2025-05-12 12:24:10.847081
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:24:10.847081
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:24:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:25:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:25:10.864437
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=25, 秒=10
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:25:10.864437 AND Reservation.end_datetime > 2025-05-12 12:25:10.864437
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:25:10.864437
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:25:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:26:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:26:10.884018
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=26, 秒=10
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:26:10.884018 AND Reservation.end_datetime > 2025-05-12 12:26:10.884018
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:26:10.884018
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:26:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:27:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:27:10.896843
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=27, 秒=10
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:27:10.896843 AND Reservation.end_datetime > 2025-05-12 12:27:10.896843
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:27:10.896843
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:27:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:28:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:28:10.913098
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=28, 秒=10
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:28:10.913098 AND Reservation.end_datetime > 2025-05-12 12:28:10.913098
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:28:10.913098
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:28:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:29:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:29:10.928382
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=29, 秒=10
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:29:10.928382 AND Reservation.end_datetime > 2025-05-12 12:29:10.928382
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:29:10.928382
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:29:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:30:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:30:10.944684
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=30, 秒=10
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:30:10.944684 AND Reservation.end_datetime > 2025-05-12 12:30:10.944684
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:30:10.944684
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:30:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:31:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:31:10.954085
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=31, 秒=10
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:31:10.954085 AND Reservation.end_datetime > 2025-05-12 12:31:10.954085
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:31:10.954085
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:31:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:32:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:32:10.967117
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=32, 秒=10
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:32:10.967117 AND Reservation.end_datetime > 2025-05-12 12:32:10.967117
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:32:10.967117
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:32:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:33:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:33:10.972543
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=33, 秒=10
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:33:10.972543 AND Reservation.end_datetime > 2025-05-12 12:33:10.972543
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:33:10.972543
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:33:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:34:10 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:34:10.986994
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=34, 秒=10
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:34:10.986994 AND Reservation.end_datetime > 2025-05-12 12:34:10.986994
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:34:10.986994
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:34:10 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:35:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:35:11.002512
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=35, 秒=11
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:35:11.002512 AND Reservation.end_datetime > 2025-05-12 12:35:11.002512
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:35:11.002512
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:35:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:36:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:36:11.019416
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=36, 秒=11
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:36:11.019416 AND Reservation.end_datetime > 2025-05-12 12:36:11.019416
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:36:11.019416
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:36:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=LKJZJTLV, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 尝试获取与预约码匹配的预约
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 没有日期参数，直接查找最近的预约
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 找到预约: ID=172, 状态=cancelled
2025-05-12 12:37:07 - backend.routes.reservation - INFO - 成功获取预约: ID=172, 状态=cancelled, 开始时间=2025-05-30 17:25:00, 结束时间=2025-05-31 00:00:00, 预约序号=RN-20250509-2807
2025-05-12 12:37:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:37:11.040750
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=37, 秒=11
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:37:11.040750 AND Reservation.end_datetime > 2025-05-12 12:37:11.040750
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:37:11.040750
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:37:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:37:19 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250512-6087-1
2025-05-12 12:37:19 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=173, 状态=expired, 预约序号=RN-20250512-6087-1
2025-05-12 12:37:19 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=173, 状态=expired, 开始时间=2025-05-12 10:18:00, 结束时间=2025-05-12 11:14:00, 预约序号=RN-20250512-6087-1
2025-05-12 12:37:23 - backend.routes.reservation - INFO - [API调用] 通过预约序号获取预约详情: 预约序号=RN-20250512-6087-1
2025-05-12 12:37:23 - backend.routes.reservation - INFO - [数据库查询] 通过预约序号找到预约: ID=173, 状态=expired, 预约序号=RN-20250512-6087-1
2025-05-12 12:37:23 - backend.routes.reservation - INFO - [API响应] 成功获取预约: ID=173, 状态=expired, 开始时间=2025-05-12 10:18:00, 结束时间=2025-05-12 11:14:00, 预约序号=RN-20250512-6087-1
2025-05-12 12:37:26 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:37:28 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:37:28 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:37:32 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:37:32 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:37:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:37:36 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:37:36 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:37:36 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:37:36 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:37:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:37:42 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:38:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:38:11.058014
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=38, 秒=11
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:38:11.058014 AND Reservation.end_datetime > 2025-05-12 12:38:11.058014
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:38:11.058014
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:38:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:38:36 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:38:36 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:38:36 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:38:36 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:38:36 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:38:41 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:38:41 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:38:44 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250516-6087-3
2025-05-12 12:38:44 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250516-6087-3，优先使用预约序号查询
2025-05-12 12:38:44 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250516-6087-3
2025-05-12 12:38:44 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=175, 状态=confirmed
2025-05-12 12:38:44 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=175, 状态=confirmed
2025-05-12 12:38:51 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:39:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:39:11.076872
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=39, 秒=11
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:39:11.076872 AND Reservation.end_datetime > 2025-05-12 12:39:11.076872
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:39:11.076872
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:39:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:39:11 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1045
2025-05-12 12:39:11 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1045，优先使用预约序号查询
2025-05-12 12:39:11 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1045
2025-05-12 12:39:11 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=101, 状态=confirmed
2025-05-12 12:39:11 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=101, 状态=confirmed
2025-05-12 12:40:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:40:11.092333
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=40, 秒=11
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:40:11.092333 AND Reservation.end_datetime > 2025-05-12 12:40:11.092333
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:40:11.092333
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:40:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:41:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:41:11.105166
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=41, 秒=11
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:41:11.105166 AND Reservation.end_datetime > 2025-05-12 12:41:11.105166
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:41:11.105166
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:41:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:42:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:42:11.120718
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=42, 秒=11
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:42:11.120718 AND Reservation.end_datetime > 2025-05-12 12:42:11.120718
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:42:11.120718
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:42:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:43:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:43:11.140488
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=43, 秒=11
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:43:11.140488 AND Reservation.end_datetime > 2025-05-12 12:43:11.140488
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:43:11.140488
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:43:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:43:52 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:43:52 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:43:55 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:43:55 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:43:55 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:43:55 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:43:55 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:44:00 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:44:00 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:44:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:44:11.163030
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=44, 秒=11
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:44:11.163030 AND Reservation.end_datetime > 2025-05-12 12:44:11.163030
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:44:11.163030
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:44:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:44:14 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:44:22 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250507-1045
2025-05-12 12:44:22 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250507-1045，优先使用预约序号查询
2025-05-12 12:44:22 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250507-1045
2025-05-12 12:44:22 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=101, 状态=confirmed
2025-05-12 12:44:22 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=101, 状态=confirmed
2025-05-12 12:44:48 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:44:48 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:45:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:45:11.184644
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=45, 秒=11
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:45:11.184644 AND Reservation.end_datetime > 2025-05-12 12:45:11.184644
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:45:11.184644
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:45:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:45:53 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:45:53 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:45:53 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:45:53 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:45:53 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:46:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:46:11.211218
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=46, 秒=11
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:46:11.211218 AND Reservation.end_datetime > 2025-05-12 12:46:11.211218
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:46:11.211218
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:46:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:46:52 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:46:52 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:47:03 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:47:03 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:47:03 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:47:03 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:47:03 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:47:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:47:11.215566
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=47, 秒=11
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:47:11.215566 AND Reservation.end_datetime > 2025-05-12 12:47:11.215566
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:47:11.215566
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:47:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:48:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:48:11.230319
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=48, 秒=11
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:48:11.230319 AND Reservation.end_datetime > 2025-05-12 12:48:11.230319
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:48:11.230319
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:48:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:48:30 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:48:30 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:48:34 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:48:34 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:48:34 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:48:34 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:48:34 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:48:43 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:48:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:48:47 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:49:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:49:06 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:49:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:49:11.246170
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=49, 秒=11
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:49:11.246170 AND Reservation.end_datetime > 2025-05-12 12:49:11.246170
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:49:11.246170
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:49:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:49:17 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:49:17 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:49:17 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:49:17 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:49:17 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:49:48 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:49:48 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:50:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:50:11.263188
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=50, 秒=11
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:50:11.263188 AND Reservation.end_datetime > 2025-05-12 12:50:11.263188
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:50:11.263188
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:50:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:50:44 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:50:44 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:50:58 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:50:58 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:50:58 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:50:58 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:50:58 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:51:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:51:11.280547
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=51, 秒=11
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:51:11.280547 AND Reservation.end_datetime > 2025-05-12 12:51:11.280547
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:51:11.280547
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:51:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:51:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:51:39 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:51:56 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:51:56 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:51:56 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:51:56 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:51:56 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:52:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:52:11.285160
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=52, 秒=11
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:52:11.285160 AND Reservation.end_datetime > 2025-05-12 12:52:11.285160
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:52:11.285160
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:52:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:52:14 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 12:52:14 - backend.routes.reservation - INFO - 排序参数: sort_by=id, sort_order=desc
2025-05-12 12:52:18 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:52:35 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:52:35 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:53:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:53:11.299089
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=53, 秒=11
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:53:11.299089 AND Reservation.end_datetime > 2025-05-12 12:53:11.299089
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:53:11.299089
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:53:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:53:42 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:53:42 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:53:44 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:53:44 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:53:44 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:53:44 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:53:44 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:53:54 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:53:54 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 12:54:06 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250512-6087-1
2025-05-12 12:54:06 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250512-6087-1，优先使用预约序号查询
2025-05-12 12:54:06 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250512-6087-1
2025-05-12 12:54:06 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=173, 状态=expired
2025-05-12 12:54:06 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=173, 状态=expired
2025-05-12 12:54:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:54:11.315713
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=54, 秒=11
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:54:11.315713 AND Reservation.end_datetime > 2025-05-12 12:54:11.315713
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:54:11.315713
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:54:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:54:11 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:54:14 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250630-8071-23
2025-05-12 12:54:14 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250630-8071-23，优先使用预约序号查询
2025-05-12 12:54:14 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250630-8071-23
2025-05-12 12:54:14 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=162, 状态=confirmed
2025-05-12 12:54:14 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=162, 状态=confirmed
2025-05-12 12:54:17 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:54:20 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250622-7845-27
2025-05-12 12:54:20 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250622-7845-27，优先使用预约序号查询
2025-05-12 12:54:20 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250622-7845-27
2025-05-12 12:54:20 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=138, 状态=confirmed
2025-05-12 12:54:20 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=138, 状态=confirmed
2025-05-12 12:54:31 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 12:54:34 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250630-8071-23
2025-05-12 12:54:34 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250630-8071-23，优先使用预约序号查询
2025-05-12 12:54:34 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250630-8071-23
2025-05-12 12:54:34 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=162, 状态=confirmed
2025-05-12 12:54:34 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=162, 状态=confirmed
2025-05-12 12:54:39 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:54:39 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 12:55:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:55:11.333265
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=55, 秒=11
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:55:11.333265 AND Reservation.end_datetime > 2025-05-12 12:55:11.333265
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:55:11.333265
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:55:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:56:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:56:11.348566
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=56, 秒=11
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:56:11.348566 AND Reservation.end_datetime > 2025-05-12 12:56:11.348566
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:56:11.348566
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:56:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:56:19 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250508-8071-1
2025-05-12 12:56:19 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250508-8071-1，优先使用预约序号查询
2025-05-12 12:56:19 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250508-8071-1
2025-05-12 12:56:19 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=140, 状态=expired
2025-05-12 12:56:19 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=140, 状态=expired
2025-05-12 12:57:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:57:11.357421
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=57, 秒=11
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:57:11.357421 AND Reservation.end_datetime > 2025-05-12 12:57:11.357421
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:57:11.357421
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:57:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:57:19 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:57:19 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 12:57:24 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:57:24 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 12:58:01 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:58:01 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 12:58:04 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:58:04 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 12:58:07 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250513-8071-3
2025-05-12 12:58:07 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250513-8071-3，优先使用预约序号查询
2025-05-12 12:58:07 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250513-8071-3
2025-05-12 12:58:07 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=142, 状态=confirmed
2025-05-12 12:58:07 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=142, 状态=confirmed
2025-05-12 12:58:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:58:11.367871
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=58, 秒=11
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:58:11.367871 AND Reservation.end_datetime > 2025-05-12 12:58:11.367871
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:58:11.367871
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:58:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 12:58:47 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 12:58:47 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 12:58:57 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=RN-20250508-8071-1
2025-05-12 12:58:57 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250508-8071-1，优先使用预约序号查询
2025-05-12 12:58:57 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250508-8071-1
2025-05-12 12:58:57 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=140, 状态=expired
2025-05-12 12:58:57 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=140, 状态=expired
2025-05-12 12:59:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 12:59:11.373795
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=12, 分=59, 秒=11
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 12:59:11.373795 AND Reservation.end_datetime > 2025-05-12 12:59:11.373795
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 12:59:11.373795
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 12:59:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:00:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:00:11.383943
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=0, 秒=11
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:00:11.383943 AND Reservation.end_datetime > 2025-05-12 13:00:11.383943
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:00:11.383943
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:00:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:00:40 - backend.routes.reservation - INFO - 获取预约详情: 预约码=8B5OJ4OI, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 13:00:40 - backend.routes.reservation - INFO - 预约码 8B5OJ4OI 属于循环预约，ID=25
2025-05-12 13:00:47 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 13:00:50 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 13:00:50 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 13:00:52 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=RN-20250514-6087-2
2025-05-12 13:00:52 - backend.routes.reservation - INFO - 提供了预约序号 RN-20250514-6087-2，优先使用预约序号查询
2025-05-12 13:00:52 - backend.routes.reservation - INFO - 使用预约序号查询: RN-20250514-6087-2
2025-05-12 13:00:52 - backend.routes.reservation - INFO - 通过预约序号直接找到预约: ID=174, 状态=confirmed
2025-05-12 13:00:52 - backend.routes.reservation - INFO - 通过预约序号查询成功，返回预约详情: ID=174, 状态=confirmed
2025-05-12 13:00:57 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 13:00:57 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 13:01:04 - backend.utils.email_sender - ERROR - 发送预定取消邮件失败: 'str' object has no attribute 'items'
2025-05-12 13:01:10 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 13:01:10 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 13:01:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:01:11.401983
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=1, 秒=11
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:01:11.401983 AND Reservation.end_datetime > 2025-05-12 13:01:11.401983
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:01:11.401983
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:01:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:01:59 - backend.routes.reservation - INFO - 获取预约详情: 预约码=HRA8U056, 开始时间=None, 结束时间=None, 预约序号=None
2025-05-12 13:01:59 - backend.routes.reservation - INFO - 预约码 HRA8U056 属于循环预约，ID=28
2025-05-12 13:02:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:02:11.416376
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=2, 秒=11
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:02:11.416376 AND Reservation.end_datetime > 2025-05-12 13:02:11.416376
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:02:11.416376
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:02:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:03:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:03:11.427325
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=3, 秒=11
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:03:11.427325 AND Reservation.end_datetime > 2025-05-12 13:03:11.427325
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:03:11.427325
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:03:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:04:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:04:11.447156
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=4, 秒=11
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:04:11.447156 AND Reservation.end_datetime > 2025-05-12 13:04:11.447156
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:04:11.447156
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:04:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:05:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:05:11.458039
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=5, 秒=11
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:05:11.458039 AND Reservation.end_datetime > 2025-05-12 13:05:11.458039
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:05:11.458039
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:05:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:06:11 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:06:11.467317
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=6, 秒=11
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:06:11.467317 AND Reservation.end_datetime > 2025-05-12 13:06:11.467317
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:06:11.467317
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:06:11 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:06:59 - backend.main - INFO - 状态更新任务已取消
2025-05-12 13:06:59 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 13:06:59 - backend.i18n - INFO - 国际化设置成功
2025-05-12 13:07:00 - backend.main - INFO - 应用启动 / Application started
2025-05-12 13:07:00 - backend.database - INFO - 数据库初始化成功
2025-05-12 13:07:00 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:07:00.241369
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=7, 秒=0
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:07:00.241369 AND Reservation.end_datetime > 2025-05-12 13:07:00.241369
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:07:00.241369
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:07:00 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:07:12 - backend.main - INFO - 状态更新任务已取消
2025-05-12 13:07:12 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 13:07:12 - backend.i18n - INFO - 国际化设置成功
2025-05-12 13:07:13 - backend.main - INFO - 应用启动 / Application started
2025-05-12 13:07:13 - backend.database - INFO - 数据库初始化成功
2025-05-12 13:07:13 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:07:13.066099
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=7, 秒=13
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:07:13.066099 AND Reservation.end_datetime > 2025-05-12 13:07:13.066099
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:07:13.066099
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:07:13 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:07:43 - backend.main - INFO - 状态更新任务已取消
2025-05-12 13:07:43 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 13:07:43 - backend.i18n - INFO - 国际化设置成功
2025-05-12 13:07:44 - backend.main - INFO - 应用启动 / Application started
2025-05-12 13:07:44 - backend.database - INFO - 数据库初始化成功
2025-05-12 13:07:44 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:07:44.199785
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=7, 秒=44
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:07:44.199785 AND Reservation.end_datetime > 2025-05-12 13:07:44.199785
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:07:44.199785
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:07:44 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:08:21 - backend.main - INFO - 状态更新任务已取消
2025-05-12 13:08:21 - backend.main - INFO - 应用关闭 / Application shut down
2025-05-12 13:08:21 - backend.i18n - INFO - 国际化设置成功
2025-05-12 13:08:22 - backend.main - INFO - 应用启动 / Application started
2025-05-12 13:08:22 - backend.database - INFO - 数据库初始化成功
2025-05-12 13:08:22 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:08:22.220287
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=8, 秒=22
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:08:22.220287 AND Reservation.end_datetime > 2025-05-12 13:08:22.220287
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:08:22.220287
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:08:22 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:09:22 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:09:22.242064
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=9, 秒=22
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:09:22.242064 AND Reservation.end_datetime > 2025-05-12 13:09:22.242064
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:09:22.242064
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:09:22 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:09:50 - backend.i18n - INFO - 国际化设置成功
2025-05-12 13:09:50 - backend.main - INFO - 应用启动 / Application started
2025-05-12 13:09:50 - backend.database - INFO - 数据库初始化成功
2025-05-12 13:09:50 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:09:50.513817
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=9, 秒=50
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:09:50.513817 AND Reservation.end_datetime > 2025-05-12 13:09:50.513817
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:09:50.513817
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:09:50 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:09:52 - backend.routes.reservation - INFO - 排序参数: sort_by=None, sort_order=None
2025-05-12 13:10:50 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:10:50.538823
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=10, 秒=50
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:10:50.538823 AND Reservation.end_datetime > 2025-05-12 13:10:50.538823
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:10:50.538823
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:10:50 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:11:50 - backend.main - INFO - 执行预约状态更新任务
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - 当前时间: 2025-05-12 13:11:50.547711
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - 当前时间详细信息: 年=2025, 月=5, 日=12, 时=13, 分=11, 秒=50
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'使用中'的预约
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status == 'confirmed' AND Reservation.start_datetime <= 2025-05-12 13:11:50.547711 AND Reservation.end_datetime > 2025-05-12 13:11:50.547711
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'使用中'的预约
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - 执行查询：查找应该更新为'已过期'的预约
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - SQL查询条件: Reservation.status.in_(['confirmed', 'in_use']) AND Reservation.end_datetime <= 2025-05-12 13:11:50.547711
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - 找到 0 个应该更新为'已过期'的预约
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - ORM更新结果: 使用中=0条, 已过期=0条
2025-05-12 13:11:50 - backend.utils.status_updater - INFO - 没有预约需要更新状态
2025-05-12 13:12:03 - backend.main - INFO - 状态更新任务已取消
2025-05-12 13:12:03 - backend.main - INFO - 应用关闭 / Application shut down
