{"ast":null,"code":"import AppHeader from '@/components/layout/AppHeader.vue';\nimport AppFooter from '@/components/layout/AppFooter.vue';\nimport AnnouncementBar from '@/components/common/AnnouncementBar.vue';\nimport { fetchAnnouncements } from '@/api/announcement';\nexport default {\n  name: 'App',\n  components: {\n    AppHeader,\n    AppFooter,\n    AnnouncementBar\n  },\n  data() {\n    return {\n      announcements: []\n    };\n  },\n  computed: {\n    isAdminRoute() {\n      return this.$route.path.startsWith('/admin');\n    }\n  },\n  created() {\n    this.loadAnnouncements();\n  },\n  methods: {\n    async loadAnnouncements() {\n      try {\n        const res = await fetchAnnouncements();\n        this.announcements = Array.isArray(res) ? res : [];\n        console.log('App组件加载到公告数据:', this.announcements);\n      } catch (error) {\n        console.error('加载公告失败:', error);\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}