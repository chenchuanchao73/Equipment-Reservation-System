{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nimport MobileNav from './MobileNav.vue';\nimport ThemeSwitch from '@/components/common/ThemeSwitch.vue';\nimport { updatePageTitle } from '@/router/permission';\nexport default {\n  name: 'AppHeader',\n  components: {\n    MobileNav,\n    ThemeSwitch\n  },\n  computed: {\n    ...mapGetters(['isLoggedIn', 'getLanguage']),\n    activeIndex() {\n      return this.$route.path;\n    },\n    currentLanguage() {\n      return this.getLanguage;\n    }\n  },\n  methods: {\n    ...mapActions(['setLanguage', 'useBrowserLanguage']),\n    goToAdmin() {\n      this.$router.push('/admin/dashboard');\n    },\n    goToLogin() {\n      this.$router.push('/admin/login');\n    },\n    handleLanguageChange(lang) {\n      if (lang === 'browser') {\n        // 使用浏览器语言\n        this.useBrowserLanguage();\n        this.$i18n.locale = this.$store.getters.getLanguage;\n      } else {\n        // 使用指定语言\n        this.setLanguage(lang);\n        this.$i18n.locale = lang;\n      }\n\n      // 更新页面标题\n      setTimeout(() => {\n        updatePageTitle();\n      }, 0);\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","MobileNav","ThemeSwitch","updatePageTitle","name","components","computed","activeIndex","$route","path","currentLanguage","getLanguage","methods","goToAdmin","$router","push","goToLogin","handleLanguageChange","lang","useBrowserLanguage","$i18n","locale","$store","getters","setLanguage","setTimeout"],"sources":["src/components/layout/AppHeader.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 桌面端导航 -->\n    <div class=\"app-header desktop-nav\">\n      <el-menu\n        :default-active=\"activeIndex\"\n        class=\"el-menu-demo\"\n        mode=\"horizontal\"\n        router\n        background-color=\"#FFFFFF\"\n        text-color=\"#333333\"\n        active-text-color=\"#409EFF\"\n      >\n        <!-- 移除Logo和标题 -->\n\n        <el-menu-item index=\"/\">\n          <i class=\"el-icon-s-home\"></i>\n          <span>{{ $t('nav.home') }}</span>\n        </el-menu-item>\n        <el-menu-item index=\"/calendar\">\n          <i class=\"el-icon-date\"></i>\n          <span>{{ $t('nav.calendar') }}</span>\n        </el-menu-item>\n        <el-menu-item index=\"/equipment\">\n          <i class=\"el-icon-s-grid\"></i>\n          <span>{{ $t('nav.equipment') }}</span>\n        </el-menu-item>\n        <el-menu-item index=\"/reservation/query\">\n          <i class=\"el-icon-s-order\"></i>\n          <span>{{ $t('nav.reservation') }}</span>\n        </el-menu-item>\n\n        <div class=\"right-menu\">\n          <!-- 添加主题切换按钮 -->\n          <theme-switch class=\"theme-switch-container\" />\n\n          <div class=\"language-switcher\">\n            <el-dropdown trigger=\"click\" @command=\"handleLanguageChange\">\n              <span class=\"el-dropdown-link\">\n                {{ currentLanguage === 'zh-CN' ? '中文' : 'English' }}\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item command=\"zh-CN\">中文</el-dropdown-item>\n                <el-dropdown-item command=\"en\">English</el-dropdown-item>\n                <el-dropdown-item divided command=\"browser\">{{ $t('common.useBrowserLanguage') }}</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </div>\n\n        <el-button\n          v-if=\"isLoggedIn\"\n          type=\"primary\"\n          plain\n          size=\"small\"\n          class=\"admin-button\"\n          @click=\"goToAdmin\"\n          style=\"min-width: 100px;\"\n        >\n          <i class=\"el-icon-s-tools\"></i> {{ $t('nav.admin') }}\n        </el-button>\n        <el-button\n          v-else\n          type=\"text\"\n          class=\"login-button\"\n          @click=\"goToLogin\"\n          style=\"min-width: 100px;\"\n        >\n          <i class=\"el-icon-s-custom\"></i> {{ $t('nav.login') }}\n        </el-button>\n      </div>\n    </el-menu>\n    </div>\n\n    <!-- 移动端导航 -->\n    <mobile-nav class=\"mobile-nav\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport MobileNav from './MobileNav.vue'\nimport ThemeSwitch from '@/components/common/ThemeSwitch.vue'\nimport { updatePageTitle } from '@/router/permission'\n\nexport default {\n  name: 'AppHeader',\n\n  components: {\n    MobileNav,\n    ThemeSwitch\n  },\n\n  computed: {\n    ...mapGetters(['isLoggedIn', 'getLanguage']),\n\n    activeIndex() {\n      return this.$route.path\n    },\n\n    currentLanguage() {\n      return this.getLanguage\n    }\n  },\n\n  methods: {\n    ...mapActions(['setLanguage', 'useBrowserLanguage']),\n\n    goToAdmin() {\n      this.$router.push('/admin/dashboard')\n    },\n\n    goToLogin() {\n      this.$router.push('/admin/login')\n    },\n\n    handleLanguageChange(lang) {\n      if (lang === 'browser') {\n        // 使用浏览器语言\n        this.useBrowserLanguage()\n        this.$i18n.locale = this.$store.getters.getLanguage\n      } else {\n        // 使用指定语言\n        this.setLanguage(lang)\n        this.$i18n.locale = lang\n      }\n\n      // 更新页面标题\n      setTimeout(() => {\n        updatePageTitle()\n      }, 0)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.app-header {\n  width: 100vw !important;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n\n.el-menu {\n  display: flex;\n  align-items: center;\n  padding: 0 !important;\n  width: 100vw !important;\n  margin: 0 !important;\n  border-radius: 0 !important;\n  border: none !important;\n}\n\n.logo-container {\n  margin-right: 20px;\n  margin-left: 0;\n  padding-left: 0;\n}\n\n.logo-link {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  color: #409EFF;\n}\n\n.logo-image {\n  height: 40px;\n  margin-right: 10px;\n}\n\n.logo-text {\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.right-menu {\n  margin-left: auto;\n  margin-right: 0;\n  padding-right: 0;\n  display: flex;\n  align-items: center;\n}\n\n.language-switcher {\n  display: flex;\n  align-items: center;\n  margin-right: 20px;\n}\n\n.el-dropdown-link {\n  cursor: pointer;\n  color: #606266;\n  font-size: 14px;\n}\n\n.el-dropdown-link:hover {\n  color: #409EFF;\n}\n\n.admin-button {\n  color: #409EFF;\n  margin-left: 10px;\n}\n\n.login-button {\n  color: #606266;\n  margin-left: 10px;\n}\n\n.theme-switch-container {\n  margin-right: 15px;\n}\n\n@media (max-width: 768px) {\n  .desktop-nav {\n    display: none;\n  }\n}\n</style>\n"],"mappings":"AAgFA,SAAAA,UAAA,EAAAC,UAAA;AACA,OAAAC,SAAA;AACA,OAAAC,WAAA;AACA,SAAAC,eAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAJ,SAAA;IACAC;EACA;EAEAI,QAAA;IACA,GAAAP,UAAA;IAEAQ,YAAA;MACA,YAAAC,MAAA,CAAAC,IAAA;IACA;IAEAC,gBAAA;MACA,YAAAC,WAAA;IACA;EACA;EAEAC,OAAA;IACA,GAAAZ,UAAA;IAEAa,UAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IAEAC,UAAA;MACA,KAAAF,OAAA,CAAAC,IAAA;IACA;IAEAE,qBAAAC,IAAA;MACA,IAAAA,IAAA;QACA;QACA,KAAAC,kBAAA;QACA,KAAAC,KAAA,CAAAC,MAAA,QAAAC,MAAA,CAAAC,OAAA,CAAAZ,WAAA;MACA;QACA;QACA,KAAAa,WAAA,CAAAN,IAAA;QACA,KAAAE,KAAA,CAAAC,MAAA,GAAAH,IAAA;MACA;;MAEA;MACAO,UAAA;QACAtB,eAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}