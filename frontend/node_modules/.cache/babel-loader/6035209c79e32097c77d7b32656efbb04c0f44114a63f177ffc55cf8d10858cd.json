{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store';\n\n// 导入视图组件\nimport Home from '@/views/Home.vue';\nimport EquipmentList from '@/views/equipment/EquipmentList.vue';\nimport EquipmentDetail from '@/views/equipment/EquipmentDetail.vue';\nimport ReservationForm from '@/views/reservation/ReservationForm.vue';\nimport RecurringReservationForm from '@/views/reservation/RecurringReservationForm.vue';\nimport ReservationQuery from '@/views/reservation/ReservationQuery.vue';\nimport ReservationDetail from '@/views/reservation/ReservationDetail.vue';\nimport RecurringReservationDetail from '@/views/reservation/RecurringReservationDetail.vue';\nimport AdminLogin from '@/views/admin/AdminLogin.vue';\nimport AdminDashboard from '@/views/admin/AdminDashboard.vue';\nimport AdminEquipment from '@/views/admin/AdminEquipment.vue';\nimport AdminCategory from '@/views/admin/AdminCategory.vue';\nimport AdminReservation from '@/views/admin/AdminReservation.vue';\nimport AdminReservationDetail from '@/views/admin/AdminReservationDetail.vue';\nimport AdminSettings from '@/views/admin/AdminSettings.vue';\nimport NotFound from '@/views/NotFound.vue';\nVue.use(VueRouter);\n\n// 路由配置\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: Home,\n  meta: {\n    title: '首页'\n  }\n}, {\n  path: '/equipment',\n  name: 'equipment-list',\n  component: EquipmentList,\n  meta: {\n    title: '设备列表'\n  }\n}, {\n  path: '/equipment/:id',\n  name: 'equipment-detail',\n  component: EquipmentDetail,\n  meta: {\n    title: '设备详情'\n  }\n}, {\n  path: '/equipment/:id/reserve',\n  name: 'reservation-form',\n  component: ReservationForm,\n  meta: {\n    title: '预定设备'\n  }\n}, {\n  path: '/equipment/:id/recurring-reserve',\n  name: 'recurring-reservation-form',\n  component: RecurringReservationForm,\n  meta: {\n    title: '循环预约设备'\n  }\n}, {\n  path: '/reservation/query',\n  name: 'reservation-query',\n  component: ReservationQuery,\n  meta: {\n    title: '查询预定'\n  }\n}, {\n  path: '/reservation/:code',\n  name: 'reservation-detail',\n  component: ReservationDetail,\n  meta: {\n    title: '预定详情'\n  }\n}, {\n  path: '/recurring-reservation/:id',\n  name: 'recurring-reservation-detail',\n  component: RecurringReservationDetail,\n  meta: {\n    title: '循环预约详情'\n  },\n  // 添加props选项，确保组件能够接收到路由参数\n  props: true\n}, {\n  path: '/admin/login',\n  name: 'admin-login',\n  component: AdminLogin,\n  meta: {\n    title: '管理员登录'\n  }\n}, {\n  path: '/admin',\n  component: () => import('@/views/admin/AdminLayout.vue'),\n  meta: {\n    title: '管理控制台',\n    requiresAuth: true\n  },\n  children: [{\n    path: '',\n    redirect: '/admin/dashboard'\n  }, {\n    path: 'dashboard',\n    name: 'admin-dashboard',\n    component: AdminDashboard,\n    meta: {\n      title: '控制台',\n      requiresAuth: true\n    }\n  }, {\n    path: 'equipment',\n    name: 'admin-equipment',\n    component: AdminEquipment,\n    meta: {\n      title: '设备管理',\n      requiresAuth: true\n    }\n  }, {\n    path: 'category',\n    name: 'admin-category',\n    component: AdminCategory,\n    meta: {\n      title: '设备类别管理',\n      requiresAuth: true\n    }\n  }, {\n    path: 'reservation',\n    name: 'admin-reservation',\n    component: AdminReservation,\n    meta: {\n      title: '预定管理',\n      requiresAuth: true\n    }\n  }, {\n    path: 'reservation/:code',\n    name: 'admin-reservation-detail',\n    component: AdminReservationDetail,\n    meta: {\n      title: '预定详情',\n      requiresAuth: true\n    }\n  }, {\n    path: 'settings',\n    name: 'admin-settings',\n    component: AdminSettings,\n    meta: {\n      title: '系统设置',\n      requiresAuth: true\n    }\n  }]\n}, {\n  path: '*',\n  name: 'not-found',\n  component: NotFound,\n  meta: {\n    title: '页面未找到'\n  }\n}];\nconst router = new VueRouter({\n  mode: 'hash',\n  base: process.env.BASE_URL,\n  routes\n});\n\n// 添加路由解析规则，确保循环预约详情页面能够正确显示\nrouter.beforeEach((to, from, next) => {\n  // 如果是循环预约详情页面，但路由名称不是recurring-reservation-detail\n  if (to.path.startsWith('/recurring-reservation/') && to.name !== 'recurring-reservation-detail') {\n    // 获取循环预约ID\n    const id = to.path.split('/').pop();\n    // 重定向到循环预约详情页面\n    next({\n      name: 'recurring-reservation-detail',\n      params: {\n        id\n      }\n    });\n  } else {\n    next();\n  }\n});\n\n// 注意: 路由守卫已移至 permission.js\n\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","Home","EquipmentList","EquipmentDetail","ReservationForm","RecurringReservationForm","ReservationQuery","ReservationDetail","RecurringReservationDetail","AdminLogin","AdminDashboard","AdminEquipment","AdminCategory","AdminReservation","AdminReservationDetail","AdminSettings","NotFound","use","routes","path","name","component","meta","title","props","requiresAuth","children","redirect","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","startsWith","id","split","pop","params"],"sources":["D:/equipment-reservation-system/frontend/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '@/store'\n\n// 导入视图组件\nimport Home from '@/views/Home.vue'\nimport EquipmentList from '@/views/equipment/EquipmentList.vue'\nimport EquipmentDetail from '@/views/equipment/EquipmentDetail.vue'\nimport ReservationForm from '@/views/reservation/ReservationForm.vue'\nimport RecurringReservationForm from '@/views/reservation/RecurringReservationForm.vue'\nimport ReservationQuery from '@/views/reservation/ReservationQuery.vue'\nimport ReservationDetail from '@/views/reservation/ReservationDetail.vue'\nimport RecurringReservationDetail from '@/views/reservation/RecurringReservationDetail.vue'\nimport AdminLogin from '@/views/admin/AdminLogin.vue'\nimport AdminDashboard from '@/views/admin/AdminDashboard.vue'\nimport AdminEquipment from '@/views/admin/AdminEquipment.vue'\nimport AdminCategory from '@/views/admin/AdminCategory.vue'\nimport AdminReservation from '@/views/admin/AdminReservation.vue'\nimport AdminReservationDetail from '@/views/admin/AdminReservationDetail.vue'\nimport AdminSettings from '@/views/admin/AdminSettings.vue'\nimport NotFound from '@/views/NotFound.vue'\n\nVue.use(VueRouter)\n\n// 路由配置\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home,\n    meta: { title: '首页' }\n  },\n  {\n    path: '/equipment',\n    name: 'equipment-list',\n    component: EquipmentList,\n    meta: { title: '设备列表' }\n  },\n  {\n    path: '/equipment/:id',\n    name: 'equipment-detail',\n    component: EquipmentDetail,\n    meta: { title: '设备详情' }\n  },\n  {\n    path: '/equipment/:id/reserve',\n    name: 'reservation-form',\n    component: ReservationForm,\n    meta: { title: '预定设备' }\n  },\n  {\n    path: '/equipment/:id/recurring-reserve',\n    name: 'recurring-reservation-form',\n    component: RecurringReservationForm,\n    meta: { title: '循环预约设备' }\n  },\n  {\n    path: '/reservation/query',\n    name: 'reservation-query',\n    component: ReservationQuery,\n    meta: { title: '查询预定' }\n  },\n  {\n    path: '/reservation/:code',\n    name: 'reservation-detail',\n    component: ReservationDetail,\n    meta: { title: '预定详情' }\n  },\n  {\n    path: '/recurring-reservation/:id',\n    name: 'recurring-reservation-detail',\n    component: RecurringReservationDetail,\n    meta: { title: '循环预约详情' },\n    // 添加props选项，确保组件能够接收到路由参数\n    props: true\n  },\n  {\n    path: '/admin/login',\n    name: 'admin-login',\n    component: AdminLogin,\n    meta: { title: '管理员登录' }\n  },\n  {\n    path: '/admin',\n    component: () => import('@/views/admin/AdminLayout.vue'),\n    meta: { title: '管理控制台', requiresAuth: true },\n    children: [\n      {\n        path: '',\n        redirect: '/admin/dashboard'\n      },\n      {\n        path: 'dashboard',\n        name: 'admin-dashboard',\n        component: AdminDashboard,\n        meta: { title: '控制台', requiresAuth: true }\n      },\n      {\n        path: 'equipment',\n        name: 'admin-equipment',\n        component: AdminEquipment,\n        meta: { title: '设备管理', requiresAuth: true }\n      },\n      {\n        path: 'category',\n        name: 'admin-category',\n        component: AdminCategory,\n        meta: { title: '设备类别管理', requiresAuth: true }\n      },\n      {\n        path: 'reservation',\n        name: 'admin-reservation',\n        component: AdminReservation,\n        meta: { title: '预定管理', requiresAuth: true }\n      },\n      {\n        path: 'reservation/:code',\n        name: 'admin-reservation-detail',\n        component: AdminReservationDetail,\n        meta: { title: '预定详情', requiresAuth: true }\n      },\n      {\n        path: 'settings',\n        name: 'admin-settings',\n        component: AdminSettings,\n        meta: { title: '系统设置', requiresAuth: true }\n      }\n    ]\n  },\n  {\n    path: '*',\n    name: 'not-found',\n    component: NotFound,\n    meta: { title: '页面未找到' }\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'hash',\n  base: process.env.BASE_URL,\n  routes\n})\n\n// 添加路由解析规则，确保循环预约详情页面能够正确显示\nrouter.beforeEach((to, from, next) => {\n  // 如果是循环预约详情页面，但路由名称不是recurring-reservation-detail\n  if (to.path.startsWith('/recurring-reservation/') && to.name !== 'recurring-reservation-detail') {\n    // 获取循环预约ID\n    const id = to.path.split('/').pop()\n    // 重定向到循环预约详情页面\n    next({ name: 'recurring-reservation-detail', params: { id } })\n  } else {\n    next()\n  }\n})\n\n// 注意: 路由守卫已移至 permission.js\n\nexport default router\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}