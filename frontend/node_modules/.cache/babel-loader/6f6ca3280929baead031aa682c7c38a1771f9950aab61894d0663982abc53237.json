{"ast":null,"code":"import { formatDateTime, isReservationExpired } from '@/utils/dateUtils';\nimport equipmentApi from '@/api/equipment';\nimport reservationApi from '@/api/reservation';\nexport default {\n  name: 'HomePage',\n  data() {\n    return {\n      // 公共查询相关\n      loading: false,\n      querySubmitted: false,\n      reservations: [],\n      categories: [],\n      queryForm: {\n        category: '',\n        dateRange: null\n      }\n    };\n  },\n  created() {\n    // 获取设备类别\n    this.fetchCategories();\n\n    // 默认加载公开查询数据\n    this.handleQuery();\n  },\n  methods: {\n    goToEquipment() {\n      this.$router.push('/equipment');\n    },\n    goToQuery() {\n      this.$router.push('/reservation/query');\n    },\n    goToReservationManage() {\n      this.$router.push('/reservation/query');\n    }\n  }\n};","map":{"version":3,"names":["formatDateTime","isReservationExpired","equipmentApi","reservationApi","name","data","loading","querySubmitted","reservations","categories","queryForm","category","dateRange","created","fetchCategories","handleQuery","methods","goToEquipment","$router","push","goToQuery","goToReservationManage"],"sources":["src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"home-page\">\n    <div class=\"banner\">\n      <h1>{{ $t('home.welcome') }}</h1>\n      <p class=\"description\">{{ $t('home.description') }}</p>\n      <!-- 移除重复按钮 -->\n    </div>\n\n    <div class=\"features\">\n      <el-row :gutter=\"30\">\n        <el-col :xs=\"24\" :sm=\"12\">\n          <div class=\"feature-card\">\n            <i class=\"el-icon-view feature-icon\"></i>\n            <h3>查看预定情况</h3>\n            <p>查看设备的预定情况，帮助您合理安排预定计划。</p>\n            <el-button type=\"primary\" @click=\"goToEquipment\">\n              浏览设备 <i class=\"el-icon-arrow-right\"></i>\n            </el-button>\n          </div>\n        </el-col>\n\n        <el-col :xs=\"24\" :sm=\"12\">\n          <div class=\"feature-card\">\n            <i class=\"el-icon-s-order feature-icon\"></i>\n            <h3>我的预定管理</h3>\n            <p>创建新预定、查询和管理您的预定记录，修改或取消已有预定。</p>\n            <el-button type=\"success\" @click=\"goToReservationManage\">\n              管理预定 <i class=\"el-icon-arrow-right\"></i>\n            </el-button>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n\n    <div class=\"public-query-section\">\n      <h2>设备预定查询</h2>\n\n      <el-form :model=\"queryForm\" label-position=\"top\" class=\"query-form\">\n        <el-row :gutter=\"20\">\n          <el-col :xs=\"24\" :sm=\"12\">\n            <el-form-item label=\"设备类别\">\n              <el-select\n                v-model=\"queryForm.category\"\n                placeholder=\"所有类别\"\n                clearable\n                style=\"width: 100%\"\n                @change=\"handleQuery\"\n              >\n                <el-option\n                  v-for=\"category in categories\"\n                  :key=\"category\"\n                  :label=\"category\"\n                  :value=\"category\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :xs=\"24\" :sm=\"12\">\n            <el-form-item label=\"日期范围\">\n              <el-date-picker\n                v-model=\"queryForm.dateRange\"\n                type=\"daterange\"\n                range-separator=\"-\"\n                start-placeholder=\"开始日期\"\n                end-placeholder=\"结束日期\"\n                style=\"width: 100%\"\n                @change=\"handleQuery\"\n              ></el-date-picker>\n            </el-form-item>\n          </el-col>\n        </el-row>\n\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleQuery\" :loading=\"loading\">\n            查询\n          </el-button>\n          <el-button @click=\"resetQuery\">重置</el-button>\n        </el-form-item>\n      </el-form>\n\n      <!-- 查询结果 -->\n      <div v-if=\"reservations.length > 0\" class=\"query-results\">\n        <el-table\n          :data=\"reservations\"\n          style=\"width: 100%\"\n          :default-sort=\"{ prop: 'start_datetime', order: 'ascending' }\"\n          v-loading=\"loading\"\n          border\n        >\n          <el-table-column\n            prop=\"equipment_name\"\n            label=\"设备名称\"\n            min-width=\"120\"\n          ></el-table-column>\n\n          <el-table-column\n            prop=\"user_name\"\n            label=\"预定人\"\n            min-width=\"100\"\n          ></el-table-column>\n\n          <el-table-column\n            prop=\"start_datetime\"\n            label=\"开始时间\"\n            min-width=\"160\"\n            :formatter=\"formatDateTime\"\n            sortable\n          ></el-table-column>\n\n          <el-table-column\n            prop=\"end_datetime\"\n            label=\"结束时间\"\n            min-width=\"160\"\n            :formatter=\"formatDateTime\"\n            sortable\n          ></el-table-column>\n\n          <el-table-column\n            prop=\"status\"\n            label=\"状态\"\n            width=\"100\"\n          >\n            <template slot-scope=\"scope\">\n              <el-tag\n                :type=\"getStatusType(scope.row)\"\n                size=\"small\"\n              >\n                {{ getStatusText(scope.row) }}\n              </el-tag>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n\n      <!-- 无查询结果提示 -->\n      <div v-else-if=\"querySubmitted\" class=\"no-results\">\n        <el-empty description=\"没有找到符合条件的预定记录\"></el-empty>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { formatDateTime, isReservationExpired } from '@/utils/dateUtils'\nimport equipmentApi from '@/api/equipment'\nimport reservationApi from '@/api/reservation'\n\nexport default {\n  name: 'HomePage',\n\n  data() {\n    return {\n      // 公共查询相关\n      loading: false,\n      querySubmitted: false,\n      reservations: [],\n      categories: [],\n      queryForm: {\n        category: '',\n        dateRange: null\n      }\n    }\n  },\n\n  created() {\n    // 获取设备类别\n    this.fetchCategories()\n\n    // 默认加载公开查询数据\n    this.handleQuery()\n  },\n\n  methods: {\n    goToEquipment() {\n      this.$router.push('/equipment')\n    },\n\n    goToQuery() {\n      this.$router.push('/reservation/query')\n    },\n\n    goToReservationManage() {\n      this.$router.push('/reservation/query')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home-page {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 15px 20px;\n}\n\n.banner {\n  text-align: center;\n  padding: 30px 20px;\n  background-color: #f0f9ff;\n  border-radius: 8px;\n  margin-bottom: 30px;\n}\n\n.banner h1 {\n  font-size: 2.2rem;\n  color: #303133;\n  margin-bottom: 15px;\n}\n\n.description {\n  font-size: 1.1rem;\n  color: #606266;\n  max-width: 800px;\n  margin: 0 auto 20px;\n}\n\n.banner-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n}\n\n.features {\n  margin-bottom: 30px;\n}\n\n.feature-card {\n  background-color: #fff;\n  border-radius: 8px;\n  padding: 30px;\n  text-align: center;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  height: 100%;\n  transition: transform 0.3s, box-shadow 0.3s;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.feature-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.2);\n}\n\n.feature-icon {\n  font-size: 3.5rem;\n  color: #409EFF;\n  margin-bottom: 20px;\n  background-color: #ecf5ff;\n  padding: 20px;\n  border-radius: 50%;\n  width: 80px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.feature-card h3 {\n  font-size: 1.6rem;\n  color: #303133;\n  margin-bottom: 15px;\n  font-weight: 500;\n}\n\n.feature-card p {\n  color: #606266;\n  margin-bottom: 25px;\n  line-height: 1.6;\n  font-size: 1.1rem;\n}\n\n.instructions {\n  background-color: #fff;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.instructions h2 {\n  text-align: center;\n  margin-bottom: 20px;\n  color: #303133;\n}\n\n.contact-info {\n  text-align: center;\n  margin-top: 20px;\n  color: #606266;\n}\n\n@media (max-width: 768px) {\n  .banner {\n    padding: 20px;\n  }\n\n  .banner h1 {\n    font-size: 2rem;\n  }\n\n  .description {\n    font-size: 1rem;\n  }\n\n  .banner-buttons {\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n  }\n\n  .feature-card {\n    margin-bottom: 20px;\n  }\n}\n</style>\n"],"mappings":"AAgJA,SAAAA,cAAA,EAAAC,oBAAA;AACA,OAAAC,YAAA;AACA,OAAAC,cAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACA;MACAC,OAAA;MACAC,cAAA;MACAC,YAAA;MACAC,UAAA;MACAC,SAAA;QACAC,QAAA;QACAC,SAAA;MACA;IACA;EACA;EAEAC,QAAA;IACA;IACA,KAAAC,eAAA;;IAEA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACAC,cAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IAEAC,UAAA;MACA,KAAAF,OAAA,CAAAC,IAAA;IACA;IAEAE,sBAAA;MACA,KAAAH,OAAA,CAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}