{"ast":null,"code":"import axios from 'axios';\n\n/**\n * 预定API\n */\nexport default {\n  // 创建预定\n  createReservation(data) {\n    return axios.post('/api/reservation', data);\n  },\n  // 获取预定列表（管理员）\n  getReservations(params) {\n    return axios.get('/api/reservation', {\n      params\n    });\n  },\n  // 获取预定详情\n  getReservation(code) {\n    return axios.get(`/api/reservation/${code}`);\n  },\n  // 通过预定码获取预定详情\n  getReservationByCode(code, params = {}) {\n    // 添加时间戳参数，防止缓存\n    const timestamp = new Date().getTime();\n    params._t = timestamp;\n\n    // 检查code是否已经包含完整的URL路径\n    let url = '';\n    if (code.startsWith('/api/')) {\n      // 如果已经是完整路径\n      url = code;\n    } else {\n      // 否则添加前缀\n      url = `/api/reservation/code/${code}`;\n    }\n    console.log('API URL:', url, 'Params:', params);\n    return axios.get(url, {\n      params\n    });\n  },\n  // 更新预定\n  updateReservation(code, data) {\n    return axios.put(`/api/reservation/code/${code}`, data);\n  },\n  // 取消预定\n  cancelReservation(code, data = {}) {\n    return axios.post(`/api/reservation/cancel/code/${code}`, data);\n  },\n  // 获取预定二维码\n  getReservationQrcode(code) {\n    return axios.get(`/api/reservation/qrcode/${code}`);\n  },\n  // 获取设备在指定日期的可用性\n  getEquipmentAvailability(equipmentId, params) {\n    return axios.get(`/api/equipment/${equipmentId}/availability`, {\n      params\n    });\n  }\n};","map":{"version":3,"names":["axios","createReservation","data","post","getReservations","params","get","getReservation","code","getReservationByCode","timestamp","Date","getTime","_t","url","startsWith","console","log","updateReservation","put","cancelReservation","getReservationQrcode","getEquipmentAvailability","equipmentId"],"sources":["D:/equipment-reservation-system/frontend/src/api/reservation.js"],"sourcesContent":["import axios from 'axios'\n\n/**\n * 预定API\n */\nexport default {\n  // 创建预定\n  createReservation(data) {\n    return axios.post('/api/reservation', data)\n  },\n\n  // 获取预定列表（管理员）\n  getReservations(params) {\n    return axios.get('/api/reservation', { params })\n  },\n\n  // 获取预定详情\n  getReservation(code) {\n    return axios.get(`/api/reservation/${code}`)\n  },\n\n  // 通过预定码获取预定详情\n  getReservationByCode(code, params = {}) {\n    // 添加时间戳参数，防止缓存\n    const timestamp = new Date().getTime()\n    params._t = timestamp\n\n    // 检查code是否已经包含完整的URL路径\n    let url = ''\n    if (code.startsWith('/api/')) {\n      // 如果已经是完整路径\n      url = code\n    } else {\n      // 否则添加前缀\n      url = `/api/reservation/code/${code}`\n    }\n    \n    console.log('API URL:', url, 'Params:', params)\n    return axios.get(url, { params })\n  },\n\n  // 更新预定\n  updateReservation(code, data) {\n    return axios.put(`/api/reservation/code/${code}`, data)\n  },\n\n  // 取消预定\n  cancelReservation(code, data = {}) {\n    return axios.post(`/api/reservation/cancel/code/${code}`, data)\n  },\n\n  // 获取预定二维码\n  getReservationQrcode(code) {\n    return axios.get(`/api/reservation/qrcode/${code}`)\n  },\n\n  // 获取设备在指定日期的可用性\n  getEquipmentAvailability(equipmentId, params) {\n    return axios.get(`/api/equipment/${equipmentId}/availability`, { params })\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA,eAAe;EACb;EACAC,iBAAiBA,CAACC,IAAI,EAAE;IACtB,OAAOF,KAAK,CAACG,IAAI,CAAC,kBAAkB,EAAED,IAAI,CAAC;EAC7C,CAAC;EAED;EACAE,eAAeA,CAACC,MAAM,EAAE;IACtB,OAAOL,KAAK,CAACM,GAAG,CAAC,kBAAkB,EAAE;MAAED;IAAO,CAAC,CAAC;EAClD,CAAC;EAED;EACAE,cAAcA,CAACC,IAAI,EAAE;IACnB,OAAOR,KAAK,CAACM,GAAG,CAAC,oBAAoBE,IAAI,EAAE,CAAC;EAC9C,CAAC;EAED;EACAC,oBAAoBA,CAACD,IAAI,EAAEH,MAAM,GAAG,CAAC,CAAC,EAAE;IACtC;IACA,MAAMK,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;IACtCP,MAAM,CAACQ,EAAE,GAAGH,SAAS;;IAErB;IACA,IAAII,GAAG,GAAG,EAAE;IACZ,IAAIN,IAAI,CAACO,UAAU,CAAC,OAAO,CAAC,EAAE;MAC5B;MACAD,GAAG,GAAGN,IAAI;IACZ,CAAC,MAAM;MACL;MACAM,GAAG,GAAG,yBAAyBN,IAAI,EAAE;IACvC;IAEAQ,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEH,GAAG,EAAE,SAAS,EAAET,MAAM,CAAC;IAC/C,OAAOL,KAAK,CAACM,GAAG,CAACQ,GAAG,EAAE;MAAET;IAAO,CAAC,CAAC;EACnC,CAAC;EAED;EACAa,iBAAiBA,CAACV,IAAI,EAAEN,IAAI,EAAE;IAC5B,OAAOF,KAAK,CAACmB,GAAG,CAAC,yBAAyBX,IAAI,EAAE,EAAEN,IAAI,CAAC;EACzD,CAAC;EAED;EACAkB,iBAAiBA,CAACZ,IAAI,EAAEN,IAAI,GAAG,CAAC,CAAC,EAAE;IACjC,OAAOF,KAAK,CAACG,IAAI,CAAC,gCAAgCK,IAAI,EAAE,EAAEN,IAAI,CAAC;EACjE,CAAC;EAED;EACAmB,oBAAoBA,CAACb,IAAI,EAAE;IACzB,OAAOR,KAAK,CAACM,GAAG,CAAC,2BAA2BE,IAAI,EAAE,CAAC;EACrD,CAAC;EAED;EACAc,wBAAwBA,CAACC,WAAW,EAAElB,MAAM,EAAE;IAC5C,OAAOL,KAAK,CAACM,GAAG,CAAC,kBAAkBiB,WAAW,eAAe,EAAE;MAAElB;IAAO,CAAC,CAAC;EAC5E;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}