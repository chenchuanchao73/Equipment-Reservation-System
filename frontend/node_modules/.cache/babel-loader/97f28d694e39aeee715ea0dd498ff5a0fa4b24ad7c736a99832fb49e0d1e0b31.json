{"ast":null,"code":"/**\n * 日期处理工具函数\n */\n\n/**\n * 将UTC时间转换为北京时间（UTC+8）\n * @param {Date|string|number} date - UTC日期对象、日期字符串或时间戳\n * @returns {Date} - 北京时间日期对象\n */\nexport function convertToBeijingTime(date) {\n  if (!date) return null;\n\n  // 创建日期对象\n  const utcDate = new Date(date);\n  if (isNaN(utcDate.getTime())) return null;\n\n  // 获取UTC时间的时间戳\n  const utcTimestamp = utcDate.getTime();\n\n  // 添加8小时的毫秒数 (8 * 60 * 60 * 1000 = 28800000)\n  const beijingTimestamp = utcTimestamp + 28800000;\n\n  // 创建北京时间的日期对象\n  return new Date(beijingTimestamp);\n}\n\n/**\n * 格式化日期\n * @param {Date|string|number} date - 日期对象、日期字符串或时间戳\n * @param {string} format - 格式化模板，例如：'YYYY-MM-DD HH:mm:ss'\n * @param {boolean} toBeijingTime - 是否转换为北京时间\n * @returns {string} - 格式化后的日期字符串\n */\nexport function formatDate(date, format = 'YYYY-MM-DD HH:mm:ss', toBeijingTime = true) {\n  if (!date) return '';\n\n  // 创建日期对象\n  let d = new Date(date);\n  if (isNaN(d.getTime())) return '';\n\n  // 转换为北京时间\n  if (toBeijingTime) {\n    d = convertToBeijingTime(d);\n  }\n  const year = d.getFullYear();\n  const month = String(d.getMonth() + 1).padStart(2, '0');\n  const day = String(d.getDate()).padStart(2, '0');\n  const hours = String(d.getHours()).padStart(2, '0');\n  const minutes = String(d.getMinutes()).padStart(2, '0');\n  const seconds = String(d.getSeconds()).padStart(2, '0');\n  return format.replace('YYYY', year).replace('MM', month).replace('DD', day).replace('HH', hours).replace('mm', minutes).replace('ss', seconds);\n}\n\n/**\n * 获取日期范围\n * @param {Date|string|number} startDate - 开始日期\n * @param {Date|string|number} endDate - 结束日期\n * @returns {Array} - 日期范围数组\n */\nexport function getDateRange(startDate, endDate) {\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n  const range = [];\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n    return range;\n  }\n  const current = new Date(start);\n  while (current <= end) {\n    range.push(new Date(current));\n    current.setDate(current.getDate() + 1);\n  }\n  return range;\n}\n\n/**\n * 检查日期是否在范围内\n * @param {Date|string|number} date - 要检查的日期\n * @param {Date|string|number} startDate - 开始日期\n * @param {Date|string|number} endDate - 结束日期\n * @returns {boolean} - 是否在范围内\n */\nexport function isDateInRange(date, startDate, endDate) {\n  const d = new Date(date);\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n  if (isNaN(d.getTime()) || isNaN(start.getTime()) || isNaN(end.getTime())) {\n    return false;\n  }\n  return d >= start && d <= end;\n}\n\n/**\n * 获取两个日期之间的天数\n * @param {Date|string|number} startDate - 开始日期\n * @param {Date|string|number} endDate - 结束日期\n * @returns {number} - 天数\n */\nexport function getDaysBetween(startDate, endDate) {\n  const start = new Date(startDate);\n  const end = new Date(endDate);\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n    return 0;\n  }\n\n  // 将日期设置为当天的0点，以便计算准确的天数\n  start.setHours(0, 0, 0, 0);\n  end.setHours(0, 0, 0, 0);\n  const diffTime = Math.abs(end - start);\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return diffDays;\n}\n\n/**\n * 获取当前日期的开始时间（0点0分0秒）\n * @param {Date|string|number} date - 日期\n * @returns {Date} - 日期的开始时间\n */\nexport function getStartOfDay(date) {\n  const d = new Date(date);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\n\n/**\n * 获取当前日期的结束时间（23点59分59秒）\n * @param {Date|string|number} date - 日期\n * @returns {Date} - 日期的结束时间\n */\nexport function getEndOfDay(date) {\n  const d = new Date(date);\n  d.setHours(23, 59, 59, 999);\n  return d;\n}\n\n/**\n * 检查两个时间段是否重叠\n * @param {Date|string|number} start1 - 第一个时间段的开始时间\n * @param {Date|string|number} end1 - 第一个时间段的结束时间\n * @param {Date|string|number} start2 - 第二个时间段的开始时间\n * @param {Date|string|number} end2 - 第二个时间段的结束时间\n * @returns {boolean} - 是否重叠\n */\nexport function isTimeOverlap(start1, end1, start2, end2) {\n  const s1 = new Date(start1).getTime();\n  const e1 = new Date(end1).getTime();\n  const s2 = new Date(start2).getTime();\n  const e2 = new Date(end2).getTime();\n  return Math.max(s1, s2) < Math.min(e1, e2);\n}\n\n/**\n * 检查预约是否已过期\n * @param {Date|string|number} endDateTime - 预约结束时间\n * @returns {boolean} - 是否已过期\n */\nexport function isReservationExpired(endDateTime) {\n  // 使用当前日期检查是否过期\n  const now = new Date();\n  const end = new Date(endDateTime);\n  if (isNaN(end.getTime())) {\n    return false;\n  }\n\n  // 检查是否过期\n  const isExpired = now > end;\n  return isExpired;\n}\nexport default {\n  formatDate,\n  getDateRange,\n  isDateInRange,\n  getDaysBetween,\n  getStartOfDay,\n  getEndOfDay,\n  isTimeOverlap,\n  isReservationExpired\n};","map":{"version":3,"names":["convertToBeijingTime","date","utcDate","Date","isNaN","getTime","utcTimestamp","beijingTimestamp","formatDate","format","toBeijingTime","d","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","replace","getDateRange","startDate","endDate","start","end","range","current","push","setDate","isDateInRange","getDaysBetween","setHours","diffTime","Math","abs","diffDays","ceil","getStartOfDay","getEndOfDay","isTimeOverlap","start1","end1","start2","end2","s1","e1","s2","e2","max","min","isReservationExpired","endDateTime","now","isExpired"],"sources":["D:/Equipment-Reservation-System-main/frontend/src/utils/date.js"],"sourcesContent":["/**\n * 日期处理工具函数\n */\n\n/**\n * 将UTC时间转换为北京时间（UTC+8）\n * @param {Date|string|number} date - UTC日期对象、日期字符串或时间戳\n * @returns {Date} - 北京时间日期对象\n */\nexport function convertToBeijingTime(date) {\n  if (!date) return null\n\n  // 创建日期对象\n  const utcDate = new Date(date)\n  if (isNaN(utcDate.getTime())) return null\n\n  // 获取UTC时间的时间戳\n  const utcTimestamp = utcDate.getTime()\n\n  // 添加8小时的毫秒数 (8 * 60 * 60 * 1000 = 28800000)\n  const beijingTimestamp = utcTimestamp + 28800000\n\n  // 创建北京时间的日期对象\n  return new Date(beijingTimestamp)\n}\n\n/**\n * 格式化日期\n * @param {Date|string|number} date - 日期对象、日期字符串或时间戳\n * @param {string} format - 格式化模板，例如：'YYYY-MM-DD HH:mm:ss'\n * @param {boolean} toBeijingTime - 是否转换为北京时间\n * @returns {string} - 格式化后的日期字符串\n */\nexport function formatDate(date, format = 'YYYY-MM-DD HH:mm:ss', toBeijingTime = true) {\n  if (!date) return ''\n\n  // 创建日期对象\n  let d = new Date(date)\n  if (isNaN(d.getTime())) return ''\n\n  // 转换为北京时间\n  if (toBeijingTime) {\n    d = convertToBeijingTime(d)\n  }\n\n  const year = d.getFullYear()\n  const month = String(d.getMonth() + 1).padStart(2, '0')\n  const day = String(d.getDate()).padStart(2, '0')\n  const hours = String(d.getHours()).padStart(2, '0')\n  const minutes = String(d.getMinutes()).padStart(2, '0')\n  const seconds = String(d.getSeconds()).padStart(2, '0')\n\n  return format\n    .replace('YYYY', year)\n    .replace('MM', month)\n    .replace('DD', day)\n    .replace('HH', hours)\n    .replace('mm', minutes)\n    .replace('ss', seconds)\n}\n\n/**\n * 获取日期范围\n * @param {Date|string|number} startDate - 开始日期\n * @param {Date|string|number} endDate - 结束日期\n * @returns {Array} - 日期范围数组\n */\nexport function getDateRange(startDate, endDate) {\n  const start = new Date(startDate)\n  const end = new Date(endDate)\n  const range = []\n\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n    return range\n  }\n\n  const current = new Date(start)\n  while (current <= end) {\n    range.push(new Date(current))\n    current.setDate(current.getDate() + 1)\n  }\n\n  return range\n}\n\n/**\n * 检查日期是否在范围内\n * @param {Date|string|number} date - 要检查的日期\n * @param {Date|string|number} startDate - 开始日期\n * @param {Date|string|number} endDate - 结束日期\n * @returns {boolean} - 是否在范围内\n */\nexport function isDateInRange(date, startDate, endDate) {\n  const d = new Date(date)\n  const start = new Date(startDate)\n  const end = new Date(endDate)\n\n  if (isNaN(d.getTime()) || isNaN(start.getTime()) || isNaN(end.getTime())) {\n    return false\n  }\n\n  return d >= start && d <= end\n}\n\n/**\n * 获取两个日期之间的天数\n * @param {Date|string|number} startDate - 开始日期\n * @param {Date|string|number} endDate - 结束日期\n * @returns {number} - 天数\n */\nexport function getDaysBetween(startDate, endDate) {\n  const start = new Date(startDate)\n  const end = new Date(endDate)\n\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n    return 0\n  }\n\n  // 将日期设置为当天的0点，以便计算准确的天数\n  start.setHours(0, 0, 0, 0)\n  end.setHours(0, 0, 0, 0)\n\n  const diffTime = Math.abs(end - start)\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\n  return diffDays\n}\n\n/**\n * 获取当前日期的开始时间（0点0分0秒）\n * @param {Date|string|number} date - 日期\n * @returns {Date} - 日期的开始时间\n */\nexport function getStartOfDay(date) {\n  const d = new Date(date)\n  d.setHours(0, 0, 0, 0)\n  return d\n}\n\n/**\n * 获取当前日期的结束时间（23点59分59秒）\n * @param {Date|string|number} date - 日期\n * @returns {Date} - 日期的结束时间\n */\nexport function getEndOfDay(date) {\n  const d = new Date(date)\n  d.setHours(23, 59, 59, 999)\n  return d\n}\n\n/**\n * 检查两个时间段是否重叠\n * @param {Date|string|number} start1 - 第一个时间段的开始时间\n * @param {Date|string|number} end1 - 第一个时间段的结束时间\n * @param {Date|string|number} start2 - 第二个时间段的开始时间\n * @param {Date|string|number} end2 - 第二个时间段的结束时间\n * @returns {boolean} - 是否重叠\n */\nexport function isTimeOverlap(start1, end1, start2, end2) {\n  const s1 = new Date(start1).getTime()\n  const e1 = new Date(end1).getTime()\n  const s2 = new Date(start2).getTime()\n  const e2 = new Date(end2).getTime()\n\n  return Math.max(s1, s2) < Math.min(e1, e2)\n}\n\n/**\n * 检查预约是否已过期\n * @param {Date|string|number} endDateTime - 预约结束时间\n * @returns {boolean} - 是否已过期\n */\nexport function isReservationExpired(endDateTime) {\n  // 使用当前日期检查是否过期\n  const now = new Date()\n  const end = new Date(endDateTime)\n\n  if (isNaN(end.getTime())) {\n    return false\n  }\n\n  // 检查是否过期\n  const isExpired = now > end\n  return isExpired\n}\n\nexport default {\n  formatDate,\n  getDateRange,\n  isDateInRange,\n  getDaysBetween,\n  getStartOfDay,\n  getEndOfDay,\n  isTimeOverlap,\n  isReservationExpired\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}