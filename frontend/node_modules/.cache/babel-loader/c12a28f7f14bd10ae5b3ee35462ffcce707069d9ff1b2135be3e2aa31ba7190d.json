{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'AdminLayout',\n  data() {\n    return {\n      sidebarCollapsed: false\n    };\n  },\n  computed: {\n    ...mapGetters(['currentUser', 'getLanguage']),\n    activeMenu() {\n      return this.$route.path;\n    },\n    currentLanguage() {\n      return this.getLanguage;\n    },\n    displayUsername() {\n      // 优先显示用户名，如果没有则显示'管理员'\n      return this.currentUser && this.currentUser.username ? this.currentUser.username : '管理员';\n    }\n  },\n  methods: {\n    ...mapActions(['logout', 'setLanguage']),\n    toggleSidebar() {\n      this.sidebarCollapsed = !this.sidebarCollapsed;\n    },\n    handleCommand(command) {\n      if (command === 'logout') {\n        this.handleLogout();\n      } else if (command === 'home') {\n        this.$router.push('/');\n      }\n    },\n    handleLogout() {\n      this.logout();\n      this.$message.success('退出登录成功');\n      this.$router.push('/admin/login');\n    },\n    handleLanguageChange(lang) {\n      this.setLanguage(lang);\n      this.$i18n.locale = lang;\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","name","data","sidebarCollapsed","computed","activeMenu","$route","path","currentLanguage","getLanguage","displayUsername","currentUser","username","methods","toggleSidebar","handleCommand","command","handleLogout","$router","push","logout","$message","success","handleLanguageChange","lang","setLanguage","$i18n","locale"],"sources":["src/views/admin/AdminLayout.vue"],"sourcesContent":["<template>\n  <div class=\"admin-layout\">\n    <el-container class=\"admin-container\">\n      <el-aside :width=\"sidebarCollapsed ? '0' : '220px'\" class=\"admin-sidebar\" :class=\"{ 'sidebar-collapsed': sidebarCollapsed }\" style=\"padding: 0; margin: 0; overflow: hidden;\">\n        <div class=\"sidebar-header\">\n          <img src=\"@/assets/logo.png\" alt=\"Logo\" class=\"sidebar-logo\" />\n          <span class=\"sidebar-title\">管理控制台</span>\n        </div>\n\n        <el-menu\n          :default-active=\"activeMenu\"\n          class=\"sidebar-menu\"\n          background-color=\"#304156\"\n          text-color=\"#bfcbd9\"\n          active-text-color=\"#409EFF\"\n          router\n        >\n          <el-menu-item index=\"/admin/dashboard\">\n            <i class=\"el-icon-s-home\"></i>\n            <span>控制台</span>\n          </el-menu-item>\n\n          <el-submenu index=\"equipment\">\n            <template slot=\"title\">\n              <i class=\"el-icon-s-grid\"></i>\n              <span>设备管理</span>\n            </template>\n            <el-menu-item index=\"/admin/equipment\">\n              <i class=\"el-icon-s-management\"></i>\n              <span>设备列表</span>\n            </el-menu-item>\n            <el-menu-item index=\"/admin/category\">\n              <i class=\"el-icon-collection-tag\"></i>\n              <span>设备类别</span>\n            </el-menu-item>\n          </el-submenu>\n\n          <el-menu-item index=\"/admin/reservation\">\n            <i class=\"el-icon-s-order\"></i>\n            <span>预定管理</span>\n          </el-menu-item>\n\n          <el-menu-item index=\"/admin/settings\">\n            <i class=\"el-icon-setting\"></i>\n            <span>系统设置</span>\n          </el-menu-item>\n\n          <!-- 移除分隔线和菜单项 -->\n        </el-menu>\n\n        <div class=\"sidebar-footer\">\n          <div class=\"user-info\">\n            <i class=\"el-icon-user\"></i>\n            <span>{{ displayUsername }}</span>\n          </div>\n          <div class=\"sidebar-actions\">\n            <div class=\"sidebar-action-item\" @click=\"handleCommand('home')\">\n              <i class=\"el-icon-s-home\"></i> 返回首页\n            </div>\n            <div class=\"sidebar-action-item\" @click=\"handleCommand('logout')\">\n              <i class=\"el-icon-switch-button\"></i> 退出登录\n            </div>\n          </div>\n        </div>\n      </el-aside>\n\n      <el-container>\n        <el-header class=\"admin-header\">\n          <div class=\"header-left\">\n            <el-button\n              class=\"toggle-sidebar-btn\"\n              @click=\"toggleSidebar\"\n              :title=\"sidebarCollapsed ? '展开侧边栏' : '折叠侧边栏'\"\n              type=\"primary\"\n              :icon=\"sidebarCollapsed ? 'el-icon-s-unfold' : 'el-icon-s-fold'\"\n              circle\n            ></el-button>\n            <slot name=\"header\"></slot>\n          </div>\n\n          <div class=\"header-right\">\n            <!-- 按钮已移动到侧边栏 -->\n          </div>\n        </el-header>\n\n        <el-main class=\"admin-main\">\n          <router-view></router-view>\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\n\nexport default {\n  name: 'AdminLayout',\n\n  data() {\n    return {\n      sidebarCollapsed: false\n    }\n  },\n\n  computed: {\n    ...mapGetters(['currentUser', 'getLanguage']),\n\n    activeMenu() {\n      return this.$route.path\n    },\n\n    currentLanguage() {\n      return this.getLanguage\n    },\n\n    displayUsername() {\n      // 优先显示用户名，如果没有则显示'管理员'\n      return this.currentUser && this.currentUser.username ? this.currentUser.username : '管理员'\n    }\n  },\n\n  methods: {\n    ...mapActions(['logout', 'setLanguage']),\n\n    toggleSidebar() {\n      this.sidebarCollapsed = !this.sidebarCollapsed\n    },\n\n    handleCommand(command) {\n      if (command === 'logout') {\n        this.handleLogout()\n      } else if (command === 'home') {\n        this.$router.push('/')\n      }\n    },\n\n    handleLogout() {\n      this.logout()\n      this.$message.success('退出登录成功')\n      this.$router.push('/admin/login')\n    },\n\n    handleLanguageChange(lang) {\n      this.setLanguage(lang)\n      this.$i18n.locale = lang\n    }\n  }\n}\n</script>\n\n<style scoped>\n.admin-layout {\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n}\n\n.admin-container {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  display: flex;\n}\n\n.admin-sidebar {\n  background-color: #304156;\n  color: #bfcbd9;\n  height: 100%;\n  overflow-y: auto;\n  transition: width 0.3s;\n  margin: 0;\n  padding: 0;\n  flex-shrink: 0;\n}\n\n.sidebar-header {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  padding: 0 15px;\n  border-bottom: 1px solid #1f2d3d;\n}\n\n.sidebar-logo {\n  height: 32px;\n  margin-right: 10px;\n}\n\n.sidebar-title {\n  font-size: 16px;\n  font-weight: bold;\n  color: #fff;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.sidebar-menu {\n  border-right: none;\n}\n\n.sidebar-footer {\n  padding: 15px;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  color: #bfcbd9;\n  padding: 10px 15px;\n}\n\n.user-info i {\n  margin-right: 5px;\n}\n\n.sidebar-actions {\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 5px;\n  padding: 0 15px;\n}\n\n.sidebar-action-item {\n  color: #bfcbd9;\n  text-align: left;\n  padding: 10px 10px;\n  border-radius: 4px;\n  transition: all 0.3s;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n\n.sidebar-action-item i {\n  margin-right: 5px;\n}\n\n.sidebar-action-item:hover {\n  background-color: #263445;\n  color: #fff;\n  width: auto;\n  box-shadow: none;\n}\n\n.admin-header {\n  background-color: #fff;\n  border-bottom: 1px solid #e6e6e6;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 20px;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-sidebar-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  margin-right: 15px;\n  border: none;\n  background-color: #409EFF;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s;\n  padding: 0;\n}\n\n.toggle-sidebar-btn:hover {\n  background-color: #66b1ff;\n}\n\n.toggle-sidebar {\n  font-size: 18px;\n  color: #fff;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  z-index: 10;\n  position: relative;\n}\n\n.header-right .el-button {\n  margin-left: 0;\n  font-size: 14px;\n  white-space: nowrap;\n  min-width: 90px;\n}\n\n.language-dropdown {\n  color: #606266;\n  cursor: pointer;\n}\n\n.admin-main {\n  background-color: #f0f2f5;\n  padding: 20px;\n  overflow-y: auto;\n  height: calc(100vh - 60px);\n  width: 100%;\n  max-width: 100%;\n}\n\n@media (max-width: 768px) {\n  .admin-sidebar {\n    width: 64px !important;\n  }\n\n  .sidebar-title {\n    display: none;\n  }\n}\n\n.sidebar-collapsed {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s, opacity 0.3s linear;\n}\n</style>\n"],"mappings":"AA8FA,SAAAA,UAAA,EAAAC,UAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,gBAAA;IACA;EACA;EAEAC,QAAA;IACA,GAAAL,UAAA;IAEAM,WAAA;MACA,YAAAC,MAAA,CAAAC,IAAA;IACA;IAEAC,gBAAA;MACA,YAAAC,WAAA;IACA;IAEAC,gBAAA;MACA;MACA,YAAAC,WAAA,SAAAA,WAAA,CAAAC,QAAA,QAAAD,WAAA,CAAAC,QAAA;IACA;EACA;EAEAC,OAAA;IACA,GAAAb,UAAA;IAEAc,cAAA;MACA,KAAAX,gBAAA,SAAAA,gBAAA;IACA;IAEAY,cAAAC,OAAA;MACA,IAAAA,OAAA;QACA,KAAAC,YAAA;MACA,WAAAD,OAAA;QACA,KAAAE,OAAA,CAAAC,IAAA;MACA;IACA;IAEAF,aAAA;MACA,KAAAG,MAAA;MACA,KAAAC,QAAA,CAAAC,OAAA;MACA,KAAAJ,OAAA,CAAAC,IAAA;IACA;IAEAI,qBAAAC,IAAA;MACA,KAAAC,WAAA,CAAAD,IAAA;MACA,KAAAE,KAAA,CAAAC,MAAA,GAAAH,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}